(self.webpackChunkblrec=self.webpackChunkblrec||[]).push([[853],{1853:(Bt,et,l)=>{"use strict";l.r(et),l.d(et,{TasksModule:()=>Os});var u=l(9808),d=l(4182),q=l(5113),t=l(5e3);class m{constructor(i,e){this._document=e;const o=this._textarea=this._document.createElement("textarea"),s=o.style;s.position="fixed",s.top=s.opacity="0",s.left="-999em",o.setAttribute("aria-hidden","true"),o.value=i,this._document.body.appendChild(o)}copy(){const i=this._textarea;let e=!1;try{if(i){const o=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),e=this._document.execCommand("copy"),o&&o.focus()}}catch(o){}return e}destroy(){const i=this._textarea;i&&(i.remove(),this._textarea=void 0)}}let U=(()=>{class n{constructor(e){this._document=e}copy(e){const o=this.beginCopy(e),s=o.copy();return o.destroy(),s}beginCopy(e){return new m(e,this._document)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.K0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var w=l(1894),D=l(7484),S=l(647),_=l(655),k=l(8929),v=l(7625),Y=l(8693),C=l(1721),b=l(226);function L(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"i",1),t.NdJ("click",function(s){return t.CHM(e),t.oxw().closeTag(s)}),t.qZA()}}const W=["*"];let nt=(()=>{class n{constructor(e,o,s,a){this.cdr=e,this.renderer=o,this.elementRef=s,this.directionality=a,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzOnClose=new t.vpe,this.nzCheckedChange=new t.vpe,this.dir="ltr",this.destroy$=new k.xQ}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(e){this.nzOnClose.emit(e),e.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const e=this.elementRef.nativeElement,o=new RegExp(`(ant-tag-(?:${[...Y.uf,...Y.Bh].join("|")}))`,"g"),s=e.classList.toString(),a=[];let c=o.exec(s);for(;null!==c;)a.push(c[1]),c=o.exec(s);e.classList.remove(...a)}setPresetColor(){const e=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&((0,Y.o2)(this.nzColor)||(0,Y.M8)(this.nzColor)),this.isPresetColor&&e.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(e){const{nzColor:o}=e;o&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(b.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:10,hostBindings:function(e,o){1&e&&t.NdJ("click",function(){return o.updateCheckedStatus()}),2&e&&(t.Udp("background-color",o.isPresetColor?"":o.nzColor),t.ekj("ant-tag-has-color",o.nzColor&&!o.isPresetColor)("ant-tag-checkable","checkable"===o.nzMode)("ant-tag-checkable-checked",o.nzChecked)("ant-tag-rtl","rtl"===o.dir))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:"nzChecked"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],features:[t.TTD],ngContentSelectors:W,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(e,o){1&e&&(t.F$t(),t.Hsn(0),t.YNc(1,L,1,0,"i",0)),2&e&&(t.xp6(1),t.Q6J("ngIf","closeable"===o.nzMode))},directives:[u.O5,S.Ls],encapsulation:2,changeDetection:0}),(0,_.gn)([(0,C.yF)()],n.prototype,"nzChecked",void 0),n})(),G=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,d.u5,S.PV]]}),n})();var ot=l(6699);const $=["nzType","avatar"];function X(n,i){if(1&n&&(t.TgZ(0,"div",5),t._UZ(1,"nz-skeleton-element",6),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("nzSize",e.avatar.size||"default")("nzShape",e.avatar.shape||"circle")}}function gt(n,i){if(1&n&&t._UZ(0,"h3",7),2&n){const e=t.oxw(2);t.Udp("width",e.toCSSUnit(e.title.width))}}function dt(n,i){if(1&n&&t._UZ(0,"li"),2&n){const e=i.index,o=t.oxw(3);t.Udp("width",o.toCSSUnit(o.widthList[e]))}}function mt(n,i){if(1&n&&(t.TgZ(0,"ul",8),t.YNc(1,dt,1,2,"li",9),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.rowsList)}}function _t(n,i){if(1&n&&(t.ynx(0),t.YNc(1,X,2,2,"div",1),t.TgZ(2,"div",2),t.YNc(3,gt,1,2,"h3",3),t.YNc(4,mt,2,1,"ul",4),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!!e.nzAvatar),t.xp6(2),t.Q6J("ngIf",!!e.nzTitle),t.xp6(1),t.Q6J("ngIf",!!e.nzParagraph)}}function ft(n,i){1&n&&(t.ynx(0),t.Hsn(1),t.BQk())}const kt=["*"];let ue=(()=>{class n{constructor(){this.nzActive=!1,this.nzBlock=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,selectors:[["nz-skeleton-element"]],hostAttrs:[1,"ant-skeleton","ant-skeleton-element"],hostVars:4,hostBindings:function(e,o){2&e&&t.ekj("ant-skeleton-active",o.nzActive)("ant-skeleton-block",o.nzBlock)},inputs:{nzActive:"nzActive",nzType:"nzType",nzBlock:"nzBlock"}}),(0,_.gn)([(0,C.yF)()],n.prototype,"nzBlock",void 0),n})(),pe=(()=>{class n{constructor(){this.nzShape="circle",this.nzSize="default",this.styleMap={}}ngOnChanges(e){if(e.nzSize&&"number"==typeof this.nzSize){const o=`${this.nzSize}px`;this.styleMap={width:o,height:o,"line-height":o}}else this.styleMap={}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-skeleton-element","nzType","avatar"]],inputs:{nzShape:"nzShape",nzSize:"nzSize"},features:[t.TTD],attrs:$,decls:1,vars:9,consts:[[1,"ant-skeleton-avatar",3,"ngStyle"]],template:function(e,o){1&e&&t._UZ(0,"span",0),2&e&&(t.ekj("ant-skeleton-avatar-square","square"===o.nzShape)("ant-skeleton-avatar-circle","circle"===o.nzShape)("ant-skeleton-avatar-lg","large"===o.nzSize)("ant-skeleton-avatar-sm","small"===o.nzSize),t.Q6J("ngStyle",o.styleMap))},directives:[u.PC],encapsulation:2,changeDetection:0}),n})(),ge=(()=>{class n{constructor(e,o,s){this.cdr=e,this.nzActive=!1,this.nzLoading=!0,this.nzRound=!1,this.nzTitle=!0,this.nzAvatar=!1,this.nzParagraph=!0,this.rowsList=[],this.widthList=[],o.addClass(s.nativeElement,"ant-skeleton")}toCSSUnit(e=""){return(0,C.WX)(e)}getTitleProps(){const e=!!this.nzAvatar,o=!!this.nzParagraph;let s="";return!e&&o?s="38%":e&&o&&(s="50%"),Object.assign({width:s},this.getProps(this.nzTitle))}getAvatarProps(){return Object.assign({shape:this.nzTitle&&!this.nzParagraph?"square":"circle",size:"large"},this.getProps(this.nzAvatar))}getParagraphProps(){const e=!!this.nzAvatar,o=!!this.nzTitle,s={};return(!e||!o)&&(s.width="61%"),s.rows=!e&&o?3:2,Object.assign(Object.assign({},s),this.getProps(this.nzParagraph))}getProps(e){return e&&"object"==typeof e?e:{}}getWidthList(){const{width:e,rows:o}=this.paragraph;let s=[];return e&&Array.isArray(e)?s=e:e&&!Array.isArray(e)&&(s=[],s[o-1]=e),s}updateProps(){this.title=this.getTitleProps(),this.avatar=this.getAvatarProps(),this.paragraph=this.getParagraphProps(),this.rowsList=[...Array(this.paragraph.rows)],this.widthList=this.getWidthList(),this.cdr.markForCheck()}ngOnInit(){this.updateProps()}ngOnChanges(e){(e.nzTitle||e.nzAvatar||e.nzParagraph)&&this.updateProps()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-skeleton"]],hostVars:6,hostBindings:function(e,o){2&e&&t.ekj("ant-skeleton-with-avatar",!!o.nzAvatar)("ant-skeleton-active",o.nzActive)("ant-skeleton-round",!!o.nzRound)},inputs:{nzActive:"nzActive",nzLoading:"nzLoading",nzRound:"nzRound",nzTitle:"nzTitle",nzAvatar:"nzAvatar",nzParagraph:"nzParagraph"},exportAs:["nzSkeleton"],features:[t.TTD],ngContentSelectors:kt,decls:2,vars:2,consts:[[4,"ngIf"],["class","ant-skeleton-header",4,"ngIf"],[1,"ant-skeleton-content"],["class","ant-skeleton-title",3,"width",4,"ngIf"],["class","ant-skeleton-paragraph",4,"ngIf"],[1,"ant-skeleton-header"],["nzType","avatar",3,"nzSize","nzShape"],[1,"ant-skeleton-title"],[1,"ant-skeleton-paragraph"],[3,"width",4,"ngFor","ngForOf"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,_t,5,3,"ng-container",0),t.YNc(1,ft,2,0,"ng-container",0)),2&e&&(t.Q6J("ngIf",o.nzLoading),t.xp6(1),t.Q6J("ngIf",!o.nzLoading))},directives:[pe,u.O5,ue,u.sg],encapsulation:2,changeDetection:0}),n})(),Jt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez]]}),n})();var it=l(404),vt=l(6462),K=l(3677),ht=l(6042),V=l(7957),E=l(4546),tt=l(1047),Qt=l(6114),de=l(4832),me=l(2845),_e=l(6950),fe=l(5664),F=l(969),he=l(4170);let ye=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,ht.sL,me.U8,he.YI,S.PV,F.T,_e.e4,de.g,it.cg,fe.rt]]}),n})();var zt=l(3868),qt=l(5737),Ut=l(685),Rt=l(7525),Se=l(8076),y=l(9439);function Me(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"i",5),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("nzType",e.nzIconType||e.inferredIconType)("nzTheme",e.iconTheme)}}function Ae(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Oqu(e.nzMessage)}}function De(n,i){if(1&n&&(t.TgZ(0,"span",9),t.YNc(1,Ae,2,1,"ng-container",10),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzMessage)}}function Ze(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(4);t.xp6(1),t.Oqu(e.nzDescription)}}function Oe(n,i){if(1&n&&(t.TgZ(0,"span",11),t.YNc(1,Ze,2,1,"ng-container",10),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzDescription)}}function we(n,i){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,De,2,1,"span",7),t.YNc(2,Oe,2,1,"span",8),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.nzMessage),t.xp6(1),t.Q6J("ngIf",e.nzDescription)}}function Fe(n,i){1&n&&t._UZ(0,"i",15)}function Ne(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"span",16),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Oqu(e.nzCloseText)}}function Pe(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Ne,3,1,"ng-container",10),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzCloseText)}}function Ie(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).closeAlert()}),t.YNc(1,Fe,1,0,"ng-template",null,13,t.W1O),t.YNc(3,Pe,2,1,"ng-container",14),t.qZA()}if(2&n){const e=t.MAs(2),o=t.oxw(2);t.xp6(3),t.Q6J("ngIf",o.nzCloseText)("ngIfElse",e)}}function Ee(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.NdJ("@slideAlertMotion.done",function(){return t.CHM(e),t.oxw().onFadeAnimationDone()}),t.YNc(1,Me,2,2,"ng-container",2),t.YNc(2,we,3,2,"div",3),t.YNc(3,Ie,4,2,"button",4),t.qZA()}if(2&n){const e=t.oxw();t.ekj("ant-alert-rtl","rtl"===e.dir)("ant-alert-success","success"===e.nzType)("ant-alert-info","info"===e.nzType)("ant-alert-warning","warning"===e.nzType)("ant-alert-error","error"===e.nzType)("ant-alert-no-icon",!e.nzShowIcon)("ant-alert-banner",e.nzBanner)("ant-alert-closable",e.nzCloseable)("ant-alert-with-description",!!e.nzDescription),t.Q6J("@.disabled",e.nzNoAnimation)("@slideAlertMotion",void 0),t.xp6(1),t.Q6J("ngIf",e.nzShowIcon),t.xp6(1),t.Q6J("ngIf",e.nzMessage||e.nzDescription),t.xp6(1),t.Q6J("ngIf",e.nzCloseable||e.nzCloseText)}}let Be=(()=>{class n{constructor(e,o,s){this.nzConfigService=e,this.cdr=o,this.directionality=s,this._nzModuleName="alert",this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzOnClose=new t.vpe,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new k.xQ,this.nzConfigService.getConfigChangeEventForComponent("alert").pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(e){const{nzShowIcon:o,nzDescription:s,nzType:a,nzBanner:c}=e;if(o&&(this.isShowIconSet=!0),a)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle"}s&&(this.iconTheme=this.nzDescription?"outline":"fill"),c&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.jY),t.Y36(t.sBO),t.Y36(b.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-alert"]],inputs:{nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:"nzCloseable",nzShowIcon:"nzShowIcon",nzBanner:"nzBanner",nzNoAnimation:"nzNoAnimation"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],features:[t.TTD],decls:1,vars:1,consts:[["class","ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description",4,"ngIf"],[1,"ant-alert"],[4,"ngIf"],["class","ant-alert-content",4,"ngIf"],["type","button","tabindex","0","class","ant-alert-close-icon",3,"click",4,"ngIf"],["nz-icon","",1,"ant-alert-icon",3,"nzType","nzTheme"],[1,"ant-alert-content"],["class","ant-alert-message",4,"ngIf"],["class","ant-alert-description",4,"ngIf"],[1,"ant-alert-message"],[4,"nzStringTemplateOutlet"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],["closeDefaultTemplate",""],[4,"ngIf","ngIfElse"],["nz-icon","","nzType","close"],[1,"ant-alert-close-text"]],template:function(e,o){1&e&&t.YNc(0,Ee,4,23,"div",0),2&e&&t.Q6J("ngIf",!o.closed)},directives:[u.O5,S.Ls,F.f],encapsulation:2,data:{animation:[Se.Rq]},changeDetection:0}),(0,_.gn)([(0,y.oS)(),(0,C.yF)()],n.prototype,"nzCloseable",void 0),(0,_.gn)([(0,y.oS)(),(0,C.yF)()],n.prototype,"nzShowIcon",void 0),(0,_.gn)([(0,C.yF)()],n.prototype,"nzBanner",void 0),(0,_.gn)([(0,C.yF)()],n.prototype,"nzNoAnimation",void 0),n})(),Je=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,S.PV,F.T]]}),n})();var st=l(4147),bt=l(5197);function Qe(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"i",8),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("nzType",e.icon)}}function qe(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.hij(" ",e(o.nzPercent)," ")}}const Ue=function(n){return{$implicit:n}};function Re(n,i){if(1&n&&t.YNc(0,qe,2,1,"ng-container",9),2&n){const e=t.oxw(3);t.Q6J("nzStringTemplateOutlet",e.formatter)("nzStringTemplateOutletContext",t.VKq(2,Ue,e.nzPercent))}}function Ye(n,i){if(1&n&&(t.TgZ(0,"span",5),t.YNc(1,Qe,2,1,"ng-container",6),t.YNc(2,Re,1,4,"ng-template",null,7,t.W1O),t.qZA()),2&n){const e=t.MAs(3),o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",("exception"===o.status||"success"===o.status)&&!o.nzFormat)("ngIfElse",e)}}function Le(n,i){if(1&n&&t.YNc(0,Ye,4,2,"span",4),2&n){const e=t.oxw();t.Q6J("ngIf",e.nzShowInfo)}}function Ge(n,i){if(1&n&&t._UZ(0,"div",17),2&n){const e=t.oxw(4);t.Udp("width",e.nzSuccessPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("height",e.strokeWidth,"px")}}function $e(n,i){if(1&n&&(t.TgZ(0,"div",13),t.TgZ(1,"div",14),t._UZ(2,"div",15),t.YNc(3,Ge,1,6,"div",16),t.qZA(),t.qZA()),2&n){const e=t.oxw(3);t.xp6(2),t.Udp("width",e.nzPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("background",e.isGradient?null:e.nzStrokeColor)("background-image",e.isGradient?e.lineGradient:null)("height",e.strokeWidth,"px"),t.xp6(1),t.Q6J("ngIf",e.nzSuccessPercent||0===e.nzSuccessPercent)}}function Ve(n,i){}function je(n,i){if(1&n&&(t.ynx(0),t.YNc(1,$e,4,11,"div",11),t.YNc(2,Ve,0,0,"ng-template",12),t.BQk()),2&n){const e=t.oxw(2),o=t.MAs(1);t.xp6(1),t.Q6J("ngIf",!e.isSteps),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function He(n,i){1&n&&t._UZ(0,"div",20),2&n&&t.Q6J("ngStyle",i.$implicit)}function We(n,i){}function Xe(n,i){if(1&n&&(t.TgZ(0,"div",18),t.YNc(1,He,1,1,"div",19),t.YNc(2,We,0,0,"ng-template",12),t.qZA()),2&n){const e=t.oxw(2),o=t.MAs(1);t.xp6(1),t.Q6J("ngForOf",e.steps),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function Ke(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,je,3,2,"ng-container",2),t.YNc(2,Xe,3,2,"div",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isSteps),t.xp6(1),t.Q6J("ngIf",e.isSteps)}}function tn(n,i){if(1&n&&(t.O4$(),t._UZ(0,"stop")),2&n){const e=i.$implicit;t.uIk("offset",e.offset)("stop-color",e.color)}}function en(n,i){if(1&n&&(t.O4$(),t.TgZ(0,"defs"),t.TgZ(1,"linearGradient",24),t.YNc(2,tn,1,2,"stop",25),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("id","gradient-"+e.gradientId),t.xp6(1),t.Q6J("ngForOf",e.circleGradient)}}function nn(n,i){if(1&n&&(t.O4$(),t._UZ(0,"path",26)),2&n){const e=i.$implicit,o=t.oxw(2);t.Q6J("ngStyle",e.strokePathStyle),t.uIk("d",o.pathString)("stroke-linecap",o.nzStrokeLinecap)("stroke",e.stroke)("stroke-width",o.nzPercent?o.strokeWidth:0)}}function on(n,i){1&n&&t.O4$()}function sn(n,i){if(1&n&&(t.TgZ(0,"div",14),t.O4$(),t.TgZ(1,"svg",21),t.YNc(2,en,3,2,"defs",2),t._UZ(3,"path",22),t.YNc(4,nn,1,5,"path",23),t.qZA(),t.YNc(5,on,0,0,"ng-template",12),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(1);t.Udp("width",e.nzWidth,"px")("height",e.nzWidth,"px")("font-size",.15*e.nzWidth+6,"px"),t.ekj("ant-progress-circle-gradient",e.isGradient),t.xp6(2),t.Q6J("ngIf",e.isGradient),t.xp6(1),t.Q6J("ngStyle",e.trailPathStyle),t.uIk("stroke-width",e.strokeWidth)("d",e.pathString),t.xp6(1),t.Q6J("ngForOf",e.progressCirclePath)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}const Lt=n=>{let i=[];return Object.keys(n).forEach(e=>{const o=n[e],s=function an(n){return+n.replace("%","")}(e);isNaN(s)||i.push({key:s,value:o})}),i=i.sort((e,o)=>e.key-o.key),i};let cn=0;const Gt="progress",un=new Map([["success","check"],["exception","close"]]),pn=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),gn=n=>`${n}%`;let $t=(()=>{class n{constructor(e,o,s){this.cdr=e,this.nzConfigService=o,this.directionality=s,this._nzModuleName=Gt,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=cn++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.trackByFn=a=>`${a}`,this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new k.xQ}get formatter(){return this.nzFormat||gn}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}ngOnChanges(e){const{nzSteps:o,nzGapPosition:s,nzStrokeLinecap:a,nzStrokeColor:c,nzGapDegree:r,nzType:g,nzStatus:z,nzPercent:A,nzSuccessPercent:O,nzStrokeWidth:I}=e;z&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(A||O)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,C.DX)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(z||A||O||c)&&this.updateIcon(),c&&this.setStrokeColor(),(s||a||r||g||A||c||c)&&this.getCirclePaths(),(A||o||I)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){var e;this.nzConfigService.getConfigChangeEventForComponent(Gt).pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const e=un.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const e=Math.floor(this.nzSteps*(this.nzPercent/100)),o="small"===this.nzSize?2:14,s=[];for(let a=0;a<this.nzSteps;a++){let c;a<=e-1&&(c=this.nzStrokeColor),s.push({backgroundColor:`${c}`,width:`${o}px`,height:`${this.strokeWidth}px`})}this.steps=s}getCirclePaths(){if(!this.isCircleStyle)return;const e=(0,C.DX)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],o=50-this.strokeWidth/2,a=2*Math.PI*o,c=this.nzGapDegree||("circle"===this.nzType?0:75);let r=0,g=-o,z=0,A=-2*o;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":r=-o,g=0,z=2*o,A=0;break;case"right":r=o,g=0,z=-2*o,A=0;break;case"bottom":g=o,A=2*o}this.pathString=`M 50,50 m ${r},${g}\n       a ${o},${o} 0 1 1 ${z},${-A}\n       a ${o},${o} 0 1 1 ${-z},${A}`,this.trailPathStyle={strokeDasharray:`${a-c}px ${a}px`,strokeDashoffset:`-${c/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map((O,I)=>{const Q=2===e.length&&0===I;return{stroke:this.isGradient&&!Q?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:Q?pn.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(O||0)/100*(a-c)}px ${a}px`,strokeDashoffset:`-${c/2}px`}}}).reverse()}setStrokeColor(){const e=this.nzStrokeColor,o=this.isGradient=!!e&&"string"!=typeof e;o&&!this.isCircleStyle?this.lineGradient=(n=>{const{from:i="#1890ff",to:e="#1890ff",direction:o="to right"}=n,s=(0,_._T)(n,["from","to","direction"]);return 0!==Object.keys(s).length?`linear-gradient(${o}, ${Lt(s).map(({key:c,value:r})=>`${r} ${c}%`).join(", ")})`:`linear-gradient(${o}, ${i}, ${e})`})(e):o&&this.isCircleStyle?this.circleGradient=(n=>Lt(this.nzStrokeColor).map(({key:i,value:e})=>({offset:`${i}%`,color:e})))():(this.lineGradient=null,this.circleGradient=[])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(y.jY),t.Y36(b.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],features:[t.TTD],decls:5,vars:15,consts:[["progressInfoTemplate",""],[3,"ngClass"],[4,"ngIf"],["class","ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient",4,"ngIf"],["class","ant-progress-text",4,"ngIf"],[1,"ant-progress-text"],[4,"ngIf","ngIfElse"],["formatTemplate",""],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["class","ant-progress-steps-outer",4,"ngIf"],["class","ant-progress-outer",4,"ngIf"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],["class","ant-progress-success-bg",3,"width","border-radius","height",4,"ngIf"],[1,"ant-progress-success-bg"],[1,"ant-progress-steps-outer"],["class","ant-progress-steps-item",3,"ngStyle",4,"ngFor","ngForOf"],[1,"ant-progress-steps-item",3,"ngStyle"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["class","ant-progress-circle-path","fill-opacity","0",3,"ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"],[4,"ngFor","ngForOf"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"]],template:function(e,o){1&e&&(t.YNc(0,Le,1,1,"ng-template",null,0,t.W1O),t.TgZ(2,"div",1),t.YNc(3,Ke,3,2,"div",2),t.YNc(4,sn,6,15,"div",3),t.qZA()),2&e&&(t.xp6(2),t.ekj("ant-progress-line","line"===o.nzType)("ant-progress-small","small"===o.nzSize)("ant-progress-show-info",o.nzShowInfo)("ant-progress-circle",o.isCircleStyle)("ant-progress-steps",o.isSteps)("ant-progress-rtl","rtl"===o.dir),t.Q6J("ngClass","ant-progress ant-progress-status-"+o.status),t.xp6(1),t.Q6J("ngIf","line"===o.nzType),t.xp6(1),t.Q6J("ngIf",o.isCircleStyle))},directives:[u.O5,S.Ls,F.f,u.mk,u.tP,u.sg,u.PC],encapsulation:2,changeDetection:0}),(0,_.gn)([(0,y.oS)()],n.prototype,"nzShowInfo",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzStrokeColor",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzSize",void 0),(0,_.gn)([(0,C.Rn)()],n.prototype,"nzSuccessPercent",void 0),(0,_.gn)([(0,C.Rn)()],n.prototype,"nzPercent",void 0),(0,_.gn)([(0,y.oS)(),(0,C.Rn)()],n.prototype,"nzStrokeWidth",void 0),(0,_.gn)([(0,y.oS)(),(0,C.Rn)()],n.prototype,"nzGapDegree",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzGapPosition",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzStrokeLinecap",void 0),(0,_.gn)([(0,C.Rn)()],n.prototype,"nzSteps",void 0),n})(),dn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,S.PV,F.T]]}),n})();var B=l(592),Vt=l(925);let mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez]]}),n})();const _n=function(n){return{$implicit:n}};function fn(n,i){if(1&n&&t.GkF(0,3),2&n){const e=t.oxw();t.Q6J("ngTemplateOutlet",e.nzValueTemplate)("ngTemplateOutletContext",t.VKq(2,_n,e.nzValue))}}function hn(n,i){if(1&n&&(t.TgZ(0,"span",6),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.displayInt)}}function zn(n,i){if(1&n&&(t.TgZ(0,"span",7),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.displayDecimal)}}function Cn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,hn,2,1,"span",4),t.YNc(2,zn,2,1,"span",5),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.displayInt),t.xp6(1),t.Q6J("ngIf",e.displayDecimal)}}function Tn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.nzTitle)}}function xn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzPrefix)}}function kn(n,i){if(1&n&&(t.TgZ(0,"span",7),t.YNc(1,xn,2,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzPrefix)}}function vn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.nzSuffix)}}function bn(n,i){if(1&n&&(t.TgZ(0,"span",8),t.YNc(1,vn,2,1,"ng-container",2),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzSuffix)}}let yn=(()=>{class n{constructor(e){this.locale_id=e,this.displayInt="",this.displayDecimal=""}ngOnChanges(){this.formatNumber()}formatNumber(){const e="number"==typeof this.nzValue?".":(0,u.dv)(this.locale_id,u.wE.Decimal),o=String(this.nzValue),[s,a]=o.split(e);this.displayInt=s,this.displayDecimal=a?`${e}${a}`:""}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-statistic-number"]],inputs:{nzValue:"nzValue",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatisticNumber"],features:[t.TTD],decls:3,vars:2,consts:[[1,"ant-statistic-content-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","ant-statistic-content-value-int",4,"ngIf"],["class","ant-statistic-content-value-decimal",4,"ngIf"],[1,"ant-statistic-content-value-int"],[1,"ant-statistic-content-value-decimal"]],template:function(e,o){1&e&&(t.TgZ(0,"span",0),t.YNc(1,fn,1,4,"ng-container",1),t.YNc(2,Cn,3,2,"ng-container",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.nzValueTemplate),t.xp6(1),t.Q6J("ngIf",!o.nzValueTemplate))},directives:[u.O5,u.tP],encapsulation:2,changeDetection:0}),n})(),Sn=(()=>{class n{constructor(e,o){this.cdr=e,this.directionality=o,this.nzValueStyle={},this.dir="ltr",this.destroy$=new k.xQ}ngOnInit(){var e;null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(o=>{this.dir=o,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(b.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-statistic"]],inputs:{nzPrefix:"nzPrefix",nzSuffix:"nzSuffix",nzTitle:"nzTitle",nzValue:"nzValue",nzValueStyle:"nzValueStyle",nzValueTemplate:"nzValueTemplate"},exportAs:["nzStatistic"],decls:7,vars:8,consts:[[1,"ant-statistic"],[1,"ant-statistic-title"],[4,"nzStringTemplateOutlet"],[1,"ant-statistic-content",3,"ngStyle"],["class","ant-statistic-content-prefix",4,"ngIf"],[3,"nzValue","nzValueTemplate"],["class","ant-statistic-content-suffix",4,"ngIf"],[1,"ant-statistic-content-prefix"],[1,"ant-statistic-content-suffix"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Tn,2,1,"ng-container",2),t.qZA(),t.TgZ(3,"div",3),t.YNc(4,kn,2,1,"span",4),t._UZ(5,"nz-statistic-number",5),t.YNc(6,bn,2,1,"span",6),t.qZA(),t.qZA()),2&e&&(t.ekj("ant-statistic-rtl","rtl"===o.dir),t.xp6(2),t.Q6J("nzStringTemplateOutlet",o.nzTitle),t.xp6(1),t.Q6J("ngStyle",o.nzValueStyle),t.xp6(1),t.Q6J("ngIf",o.nzPrefix),t.xp6(1),t.Q6J("nzValue",o.nzValue)("nzValueTemplate",o.nzValueTemplate),t.xp6(1),t.Q6J("ngIf",o.nzSuffix))},directives:[yn,F.f,u.PC,u.O5],encapsulation:2,changeDetection:0}),n})(),Mn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,Vt.ud,F.T,mn]]}),n})();var jt=l(6787),An=l(1059),Ct=l(7545),Dn=l(7138),x=l(2994),Zn=l(6947),yt=l(4090);function On(n,i){1&n&&t.Hsn(0)}const wn=["*"];function Fn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzTitle)}}function Nn(n,i){if(1&n&&(t.TgZ(0,"div",6),t.YNc(1,Fn,2,1,"ng-container",7),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzTitle)}}function Pn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Oqu(e.nzExtra)}}function In(n,i){if(1&n&&(t.TgZ(0,"div",8),t.YNc(1,Pn,2,1,"ng-container",7),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.nzExtra)}}function En(n,i){if(1&n&&(t.TgZ(0,"div",3),t.YNc(1,Nn,2,1,"div",4),t.YNc(2,In,2,1,"div",5),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.nzTitle),t.xp6(1),t.Q6J("ngIf",e.nzExtra)}}function Bn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function Jn(n,i){}function Qn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",12),t.TgZ(2,"div",13),t.TgZ(3,"span",14),t.YNc(4,Bn,2,1,"ng-container",7),t.qZA(),t.TgZ(5,"span",15),t.YNc(6,Jn,0,0,"ng-template",16),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("colSpan",e.span),t.xp6(2),t.ekj("ant-descriptions-item-no-colon",!o.nzColon),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.title),t.xp6(2),t.Q6J("ngTemplateOutlet",e.content)}}function qn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(3).$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function Un(n,i){if(1&n&&(t.TgZ(0,"td",14),t.YNc(1,qn,2,1,"ng-container",7),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.title)}}function Rn(n,i){}function Yn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Un,2,1,"td",17),t.TgZ(2,"td",18),t.YNc(3,Rn,0,0,"ng-template",16),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.title),t.xp6(1),t.Q6J("colSpan",2*e.span-1),t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function Ln(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Qn,7,5,"ng-container",2),t.YNc(2,Yn,4,3,"ng-container",2),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",!e.nzBordered),t.xp6(1),t.Q6J("ngIf",e.nzBordered)}}function Gn(n,i){if(1&n&&(t.TgZ(0,"tr",10),t.YNc(1,Ln,3,2,"ng-container",11),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngForOf",e)}}function $n(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Gn,2,1,"tr",9),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.itemMatrix)}}function Vn(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function jn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",12),t.TgZ(2,"div",13),t.TgZ(3,"span",14),t.YNc(4,Vn,2,1,"ng-container",7),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.$implicit,o=t.oxw(4);t.xp6(1),t.Q6J("colSpan",e.span),t.xp6(2),t.ekj("ant-descriptions-item-no-colon",!o.nzColon),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.title)}}function Hn(n,i){}function Wn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",12),t.TgZ(2,"div",13),t.TgZ(3,"span",15),t.YNc(4,Hn,0,0,"ng-template",16),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("colSpan",e.span),t.xp6(3),t.Q6J("ngTemplateOutlet",e.content)}}function Xn(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",10),t.YNc(2,jn,5,4,"ng-container",11),t.qZA(),t.TgZ(3,"tr",10),t.YNc(4,Wn,5,2,"ng-container",11),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("ngForOf",e)}}function Kn(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Xn,5,2,"ng-container",11),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.itemMatrix)}}function to(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function eo(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",19),t.YNc(2,to,2,1,"ng-container",7),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("colSpan",e.span),t.xp6(1),t.Q6J("nzStringTemplateOutlet",e.title)}}function no(n,i){}function oo(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"td",18),t.YNc(2,no,0,0,"ng-template",16),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("colSpan",e.span),t.xp6(1),t.Q6J("ngTemplateOutlet",e.content)}}function io(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"tr",10),t.YNc(2,eo,3,2,"ng-container",11),t.qZA(),t.TgZ(3,"tr",10),t.YNc(4,oo,3,2,"ng-container",11),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.Q6J("ngForOf",e),t.xp6(2),t.Q6J("ngForOf",e)}}function so(n,i){if(1&n&&(t.ynx(0),t.YNc(1,io,5,2,"ng-container",11),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.itemMatrix)}}function ao(n,i){if(1&n&&(t.ynx(0),t.YNc(1,Kn,2,1,"ng-container",2),t.YNc(2,so,2,1,"ng-container",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.nzBordered),t.xp6(1),t.Q6J("ngIf",e.nzBordered)}}let St=(()=>{class n{constructor(){this.nzSpan=1,this.nzTitle="",this.inputChange$=new k.xQ}ngOnChanges(){this.inputChange$.next()}ngOnDestroy(){this.inputChange$.complete()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-descriptions-item"]],viewQuery:function(e,o){if(1&e&&t.Gf(t.Rgc,7),2&e){let s;t.iGM(s=t.CRH())&&(o.content=s.first)}},inputs:{nzSpan:"nzSpan",nzTitle:"nzTitle"},exportAs:["nzDescriptionsItem"],features:[t.TTD],ngContentSelectors:wn,decls:1,vars:0,template:function(e,o){1&e&&(t.F$t(),t.YNc(0,On,1,0,"ng-template"))},encapsulation:2,changeDetection:0}),(0,_.gn)([(0,C.Rn)()],n.prototype,"nzSpan",void 0),n})();const lo={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};let Ht=(()=>{class n{constructor(e,o,s,a){this.nzConfigService=e,this.cdr=o,this.breakpointService=s,this.directionality=a,this._nzModuleName="descriptions",this.nzBordered=!1,this.nzLayout="horizontal",this.nzColumn=lo,this.nzSize="default",this.nzTitle="",this.nzColon=!0,this.itemMatrix=[],this.realColumn=3,this.dir="ltr",this.breakpoint=yt.G_.md,this.destroy$=new k.xQ}ngOnInit(){var e;this.dir=this.directionality.value,null===(e=this.directionality.change)||void 0===e||e.pipe((0,v.R)(this.destroy$)).subscribe(o=>{this.dir=o})}ngOnChanges(e){e.nzColumn&&this.prepareMatrix()}ngAfterContentInit(){const e=this.items.changes.pipe((0,An.O)(this.items),(0,v.R)(this.destroy$));(0,jt.T)(e,e.pipe((0,Ct.w)(()=>(0,jt.T)(...this.items.map(o=>o.inputChange$)).pipe((0,Dn.e)(16)))),this.breakpointService.subscribe(yt.WV).pipe((0,x.b)(o=>this.breakpoint=o))).pipe((0,v.R)(this.destroy$)).subscribe(()=>{this.prepareMatrix(),this.cdr.markForCheck()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}prepareMatrix(){if(!this.items)return;let e=[],o=0;const s=this.realColumn=this.getColumn(),a=this.items.toArray(),c=a.length,r=[],g=()=>{r.push(e),e=[],o=0};for(let z=0;z<c;z++){const A=a[z],{nzTitle:O,content:I,nzSpan:Q}=A;o+=Q,o>=s?(o>s&&(0,Zn.ZK)(`"nzColumn" is ${s} but we have row length ${o}`),e.push({title:O,content:I,span:s-(o-Q)}),g()):z===c-1?(e.push({title:O,content:I,span:s-(o-Q)}),g()):e.push({title:O,content:I,span:Q})}this.itemMatrix=r}getColumn(){return"number"!=typeof this.nzColumn?this.nzColumn[this.breakpoint]:this.nzColumn}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(y.jY),t.Y36(t.sBO),t.Y36(yt.r3),t.Y36(b.Is,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["nz-descriptions"]],contentQueries:function(e,o,s){if(1&e&&t.Suo(s,St,4),2&e){let a;t.iGM(a=t.CRH())&&(o.items=a)}},hostAttrs:[1,"ant-descriptions"],hostVars:8,hostBindings:function(e,o){2&e&&t.ekj("ant-descriptions-bordered",o.nzBordered)("ant-descriptions-middle","middle"===o.nzSize)("ant-descriptions-small","small"===o.nzSize)("ant-descriptions-rtl","rtl"===o.dir)},inputs:{nzBordered:"nzBordered",nzLayout:"nzLayout",nzColumn:"nzColumn",nzSize:"nzSize",nzTitle:"nzTitle",nzExtra:"nzExtra",nzColon:"nzColon"},exportAs:["nzDescriptions"],features:[t.TTD],decls:6,vars:3,consts:[["class","ant-descriptions-header",4,"ngIf"],[1,"ant-descriptions-view"],[4,"ngIf"],[1,"ant-descriptions-header"],["class","ant-descriptions-title",4,"ngIf"],["class","ant-descriptions-extra",4,"ngIf"],[1,"ant-descriptions-title"],[4,"nzStringTemplateOutlet"],[1,"ant-descriptions-extra"],["class","ant-descriptions-row",4,"ngFor","ngForOf"],[1,"ant-descriptions-row"],[4,"ngFor","ngForOf"],[1,"ant-descriptions-item",3,"colSpan"],[1,"ant-descriptions-item-container"],[1,"ant-descriptions-item-label"],[1,"ant-descriptions-item-content"],[3,"ngTemplateOutlet"],["class","ant-descriptions-item-label",4,"nzStringTemplateOutlet"],[1,"ant-descriptions-item-content",3,"colSpan"],[1,"ant-descriptions-item-label",3,"colSpan"]],template:function(e,o){1&e&&(t.YNc(0,En,3,2,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"table"),t.TgZ(3,"tbody"),t.YNc(4,$n,2,1,"ng-container",2),t.YNc(5,ao,3,2,"ng-container",2),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("ngIf",o.nzTitle||o.nzExtra),t.xp6(4),t.Q6J("ngIf","horizontal"===o.nzLayout),t.xp6(1),t.Q6J("ngIf","vertical"===o.nzLayout))},directives:[u.O5,F.f,u.sg,u.tP],encapsulation:2,changeDetection:0}),(0,_.gn)([(0,C.yF)(),(0,y.oS)()],n.prototype,"nzBordered",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzColumn",void 0),(0,_.gn)([(0,y.oS)()],n.prototype,"nzSize",void 0),(0,_.gn)([(0,y.oS)(),(0,C.yF)()],n.prototype,"nzColon",void 0),n})(),co=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[b.vT,u.ez,F.T,Vt.ud]]}),n})();var uo=l(4466),at=l(2302),N=l(1086),po=l(6498),Wt=l(353),go=l(4241);function Xt(n=0,i=Wt.P){return(!(0,go.k)(n)||n<0)&&(n=0),(!i||"function"!=typeof i.schedule)&&(i=Wt.P),new po.y(e=>(e.add(i.schedule(mo,n,{subscriber:e,counter:0,period:n})),e))}function mo(n){const{subscriber:i,counter:e,period:o}=n;i.next(e),this.schedule({subscriber:i,counter:e+1,period:o},o)}var _o=l(3009),fo=l(6688),ho=l(3489),Tt=l(5430),Mt=l(1177);function Kt(...n){const i=n[n.length-1];return"function"==typeof i&&n.pop(),(0,_o.n)(n,void 0).lift(new zo(i))}class zo{constructor(i){this.resultSelector=i}call(i,e){return e.subscribe(new Co(i,this.resultSelector))}}class Co extends ho.L{constructor(i,e,o=Object.create(null)){super(i),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(i){const e=this.iterators;(0,fo.k)(i)?e.push(new xo(i)):e.push("function"==typeof i[Tt.hZ]?new To(i[Tt.hZ]()):new ko(this.destination,this,i))}_complete(){const i=this.iterators,e=i.length;if(this.unsubscribe(),0!==e){this.active=e;for(let o=0;o<e;o++){let s=i[o];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const i=this.iterators,e=i.length,o=this.destination;for(let c=0;c<e;c++){let r=i[c];if("function"==typeof r.hasValue&&!r.hasValue())return}let s=!1;const a=[];for(let c=0;c<e;c++){let r=i[c],g=r.next();if(r.hasCompleted()&&(s=!0),g.done)return void o.complete();a.push(g.value)}this.resultSelector?this._tryresultSelector(a):o.next(a),s&&o.complete()}_tryresultSelector(i){let e;try{e=this.resultSelector.apply(this,i)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}class To{constructor(i){this.iterator=i,this.nextResult=i.next()}hasValue(){return!0}next(){const i=this.nextResult;return this.nextResult=this.iterator.next(),i}hasCompleted(){const i=this.nextResult;return Boolean(i&&i.done)}}class xo{constructor(i){this.array=i,this.index=0,this.length=0,this.length=i.length}[Tt.hZ](){return this}next(i){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class ko extends Mt.Ds{constructor(i,e,o){super(i),this.parent=e,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Tt.hZ](){return this}next(){const i=this.buffer;return 0===i.length&&this.isComplete?{value:null,done:!0}:{value:i.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(i){this.buffer.push(i),this.parent.checkIterators()}subscribe(){return(0,Mt.ft)(this.observable,new Mt.IY(this))}}var te=l(534),rt=l(7221),At=l(7106),ee=l(5278),vo=l(2340),M=(()=>{return(n=M||(M={})).ALL="all",n.PREPARING="preparing",n.LIVING="living",n.ROUNDING="rounding",n.MONITOR_ENABLED="monitor_enabled",n.MONITOR_DISABLED="monitor_disabled",n.RECORDER_ENABLED="recorder_enabled",n.RECORDER_DISABLED="recorder_disabled",n.STOPPED="stopped",n.WAITTING="waitting",n.RECORDING="recording",n.REMUXING="remuxing",n.INJECTING="injecting",M;var n})(),Z=(()=>{return(n=Z||(Z={})).STOPPED="stopped",n.WAITING="waiting",n.RECORDING="recording",n.REMUXING="remuxing",n.INJECTING="injecting",Z;var n})(),lt=(()=>{return(n=lt||(lt={})).WAITING="waiting",n.REMUXING="remuxing",n.INJECTING="injecting",lt;var n})(),T=(()=>{return(n=T||(T={})).RECORDING="recording",n.REMUXING="remuxing",n.INJECTING="injecting",n.COMPLETED="completed",n.MISSING="missing",n.BROKEN="broken",T;var n})(),bo=l(520);const h=vo.N.apiUrl;let Dt=(()=>{class n{constructor(e){this.http=e}getAllTaskData(e=M.ALL){return this.http.get(h+"/api/v1/tasks/data",{params:{select:e}})}getTaskData(e){return this.http.get(h+`/api/v1/tasks/${e}/data`)}getVideoFileDetails(e){return this.http.get(h+`/api/v1/tasks/${e}/videos`)}getDanmakuFileDetails(e){return this.http.get(h+`/api/v1/tasks/${e}/danmakus`)}getTaskParam(e){return this.http.get(h+`/api/v1/tasks/${e}/param`)}updateAllTaskInfos(){return this.http.post(h+"/api/v1/tasks/info",null)}updateTaskInfo(e){return this.http.post(h+`/api/v1/tasks/${e}/info`,null)}addTask(e){return this.http.post(h+`/api/v1/tasks/${e}`,null)}removeTask(e){return this.http.delete(h+`/api/v1/tasks/${e}`)}removeAllTasks(){return this.http.delete(h+"/api/v1/tasks")}startTask(e){return this.http.post(h+`/api/v1/tasks/${e}/start`,null)}startAllTasks(){return this.http.post(h+"/api/v1/tasks/start",null)}stopTask(e,o=!1,s=!1){return this.http.post(h+`/api/v1/tasks/${e}/stop`,{force:o,background:s})}stopAllTasks(e=!1,o=!1){return this.http.post(h+"/api/v1/tasks/stop",{force:e,background:o})}enableTaskMonitor(e){return this.http.post(h+`/api/v1/tasks/${e}/monitor/enable`,null)}enableAllMonitors(){return this.http.post(h+"/api/v1/tasks/monitor/enable",null)}disableTaskMonitor(e,o=!1){return this.http.post(h+`/api/v1/tasks/${e}/monitor/disable`,{background:o})}disableAllMonitors(e=!1){return this.http.post(h+"/api/v1/tasks/monitor/disable",{background:e})}enableTaskRecorder(e){return this.http.post(h+`/api/v1/tasks/${e}/recorder/enable`,null)}enableAllRecorders(){return this.http.post(h+"/api/v1/tasks/recorder/enable",null)}disableTaskRecorder(e,o=!1,s=!1){return this.http.post(h+`/api/v1/tasks/${e}/recorder/disable`,{force:o,background:s})}disableAllRecorders(e=!1,o=!1){return this.http.post(h+"/api/v1/tasks/recorder/disable",{force:e,background:o})}cutStream(e){return this.http.post(h+`/api/v1/tasks/${e}/cut`,null)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(bo.eN))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var yo=l(7512),So=l(5545);let Mo=(()=>{class n{constructor(){this.loading=!0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-user-info-detail"]],inputs:{loading:"loading",userInfo:"userInfo"},decls:12,vars:6,consts:[["nzTitle","\u4e3b\u64ad\u4fe1\u606f",3,"nzLoading"],["nzTitle",""],["nzTitle","\u6635\u79f0"],["nzTitle","\u6027\u522b"],["nzTitle","UID"],["nzTitle","\u7b49\u7ea7"],["nzTitle","\u7b7e\u540d"]],template:function(e,o){1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-descriptions",1),t.TgZ(2,"nz-descriptions-item",2),t._uU(3),t.qZA(),t.TgZ(4,"nz-descriptions-item",3),t._uU(5),t.qZA(),t.TgZ(6,"nz-descriptions-item",4),t._uU(7),t.qZA(),t.TgZ(8,"nz-descriptions-item",5),t._uU(9),t.qZA(),t.TgZ(10,"nz-descriptions-item",6),t._uU(11),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("nzLoading",o.loading),t.xp6(3),t.Oqu(o.userInfo.name),t.xp6(2),t.Oqu(o.userInfo.gender),t.xp6(2),t.Oqu(o.userInfo.uid),t.xp6(2),t.Oqu(o.userInfo.level),t.xp6(2),t.hij(" ",o.userInfo.sign," "))},directives:[D.bd,Ht,St],styles:[""],changeDetection:0}),n})();function Ao(n,i){if(1&n&&(t.TgZ(0,"span",18),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij("",e.roomInfo.short_room_id," ")}}function Do(n,i){1&n&&(t.ynx(0),t._uU(1,"\u95f2\u7f6e"),t.BQk())}function Zo(n,i){1&n&&(t.ynx(0),t._uU(1,"\u76f4\u64ad\u4e2d"),t.BQk())}function Oo(n,i){1&n&&(t.ynx(0),t._uU(1,"\u8f6e\u64ad\u4e2d"),t.BQk())}function wo(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,1e3*e.roomInfo.live_start_time,"YYYY-MM-dd HH:mm:ss","+8")," ")}}function Fo(n,i){if(1&n&&(t.TgZ(0,"nz-tag"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.hij(" ",e," ")}}function No(n,i){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Oqu(e)}}let Po=(()=>{class n{constructor(){this.loading=!0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-room-info-detail"]],inputs:{loading:"loading",roomInfo:"roomInfo"},decls:24,vars:13,consts:[["nzTitle","\u76f4\u64ad\u95f4\u4fe1\u606f",3,"nzLoading"],["nzTitle",""],["nzTitle","\u6807\u9898"],["nzTitle","\u5206\u533a"],["nzTitle","\u623f\u95f4\u53f7"],[1,"room-id-wrapper"],["class","short-room-id",4,"ngIf"],[1,"real-room-id"],["nzTitle","\u72b6\u6001"],[3,"ngSwitch"],[4,"ngSwitchCase"],["nzTitle","\u5f00\u64ad\u65f6\u95f4"],[4,"ngIf"],["nzTitle","\u6807\u7b7e"],[1,"tags"],[4,"ngFor","ngForOf"],["nzTitle","\u7b80\u4ecb"],[1,"introduction"],[1,"short-room-id"]],template:function(e,o){1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-descriptions",1),t.TgZ(2,"nz-descriptions-item",2),t._uU(3),t.qZA(),t.TgZ(4,"nz-descriptions-item",3),t._uU(5),t.qZA(),t.TgZ(6,"nz-descriptions-item",4),t.TgZ(7,"span",5),t.YNc(8,Ao,2,1,"span",6),t.TgZ(9,"span",7),t._uU(10),t.qZA(),t.qZA(),t.qZA(),t.TgZ(11,"nz-descriptions-item",8),t.ynx(12,9),t.YNc(13,Do,2,0,"ng-container",10),t.YNc(14,Zo,2,0,"ng-container",10),t.YNc(15,Oo,2,0,"ng-container",10),t.BQk(),t.qZA(),t.TgZ(16,"nz-descriptions-item",11),t.YNc(17,wo,3,5,"ng-container",12),t.qZA(),t.TgZ(18,"nz-descriptions-item",13),t.TgZ(19,"div",14),t.YNc(20,Fo,2,1,"nz-tag",15),t.qZA(),t.qZA(),t.TgZ(21,"nz-descriptions-item",16),t.TgZ(22,"div",17),t.YNc(23,No,2,1,"p",15),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.Q6J("nzLoading",o.loading),t.xp6(3),t.Oqu(o.roomInfo.title),t.xp6(2),t.AsE(" ",o.roomInfo.parent_area_name," - ",o.roomInfo.area_name," "),t.xp6(3),t.Q6J("ngIf",o.roomInfo.short_room_id),t.xp6(2),t.hij(" ",o.roomInfo.room_id," "),t.xp6(2),t.Q6J("ngSwitch",o.roomInfo.live_status),t.xp6(1),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2),t.xp6(2),t.Q6J("ngIf",0!==o.roomInfo.live_start_time),t.xp6(3),t.Q6J("ngForOf",o.roomInfo.tags.split(",")),t.xp6(3),t.Q6J("ngForOf",o.roomInfo.description.split("\n")))},directives:[D.bd,Ht,St,u.O5,u.RF,u.n9,u.sg,nt],pipes:[u.uU],styles:['.room-id-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.room-id-wrapper[_ngcontent-%COMP%]   .short-room-id[_ngcontent-%COMP%]:after{display:inline-block;width:1em;content:","}.tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;row-gap:.5em}.introduction[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0}'],changeDetection:0}),n})(),ne=(()=>{class n{transform(e){if(e<0)throw RangeError("the argument totalSeconds must be greater than or equal to 0");const o=Math.floor(e/3600),s=Math.floor(e/60%60),a=Math.floor(e%60);let c="";return o>0&&(c+=o+":"),c+=s<10?"0"+s:s,c+=":",c+=a<10?"0"+a:a,c}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"duration",type:n,pure:!0}),n})(),oe=(()=>{class n{transform(e,o=3){let s,a;if(e<=0)return"0B/s";if(e<1e3)s=e,a="B";else if(e<1e6)s=e/1e3,a="kB";else if(e<1e9)s=e/1e6,a="MB";else{if(!(e<1e12))throw RangeError(`the rate argument ${e} out of range`);s=e/1e9,a="GB"}const c=o-Math.floor(Math.abs(Math.log10(s)))-1;return s.toFixed(c)+a+"/s"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"speed",type:n,pure:!0}),n})();var Io=l(855);let Zt=(()=>{class n{transform(e,o){return Io(e,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filesize",type:n,pure:!0}),n})();const Eo={2e4:"4K",1e4:"\u539f\u753b",401:"\u84dd\u5149(\u675c\u6bd4)",400:"\u84dd\u5149",250:"\u8d85\u6e05",150:"\u9ad8\u6e05",80:"\u6d41\u7545"};let ie=(()=>{class n{transform(e){return Eo[e]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"quality",type:n,pure:!0}),n})();const Bo=function(){return{spacer:""}};let Jo=(()=>{class n{constructor(){this.loading=!0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-recording-detail"]],inputs:{loading:"loading",taskStatus:"taskStatus"},decls:12,vars:24,consts:[["nzTitle","\u5f55\u5236\u8be6\u60c5",3,"nzLoading"],[1,"statistics"],[3,"nzTitle","nzValue"]],template:function(e,o){1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"div",1),t._UZ(2,"nz-statistic",2),t.ALo(3,"duration"),t._UZ(4,"nz-statistic",2),t.ALo(5,"speed"),t._UZ(6,"nz-statistic",2),t.ALo(7,"filesize"),t._UZ(8,"nz-statistic",2),t.ALo(9,"number"),t._UZ(10,"nz-statistic",2),t.ALo(11,"quality"),t.qZA(),t.qZA()),2&e&&(t.Q6J("nzLoading",o.loading),t.xp6(2),t.Q6J("nzTitle","\u5f55\u5236\u7528\u65f6")("nzValue",t.lcZ(3,11,o.taskStatus.elapsed)),t.xp6(2),t.Q6J("nzTitle","\u5f55\u5236\u901f\u5ea6")("nzValue",t.lcZ(5,13,o.taskStatus.data_rate)),t.xp6(2),t.Q6J("nzTitle","\u5df2\u5f55\u6570\u636e")("nzValue",t.xi3(7,15,o.taskStatus.data_count,t.DdM(23,Bo))),t.xp6(2),t.Q6J("nzTitle","\u5f39\u5e55\u6570\u91cf")("nzValue",t.xi3(9,18,o.taskStatus.danmu_count,"1.0-2")),t.xp6(2),t.Q6J("nzTitle","\u6240\u5f55\u753b\u8d28")("nzValue",t.lcZ(11,21,o.taskStatus.real_quality_number)))},directives:[D.bd,Sn],pipes:[ne,oe,Zt,u.JJ,ie],styles:[".statistics[_ngcontent-%COMP%]{--grid-width: 200px;display:grid;grid-template-columns:repeat(auto-fill,var(--grid-width));grid-gap:1em;gap:1em;justify-content:center;margin:0 auto}@media screen and (max-width: 1024px){.statistics[_ngcontent-%COMP%]{--grid-width: 180px}}@media screen and (max-width: 720px){.statistics[_ngcontent-%COMP%]{--grid-width: 160px}}@media screen and (max-width: 680px){.statistics[_ngcontent-%COMP%]{--grid-width: 140px}}@media screen and (max-width: 480px){.statistics[_ngcontent-%COMP%]{--grid-width: 120px}}"],changeDetection:0}),n})(),Ot=(()=>{class n{transform(e){var o,s;return e?e.startsWith("/")?null!==(o=e.split("/").pop())&&void 0!==o?o:"":null!==(s=e.split("\\").pop())&&void 0!==s?s:"":""}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filename",type:n,pure:!0}),n})(),se=(()=>{class n{transform(e){return e&&0!==e.duration?Math.round(e.time/e.duration*100):0}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"progress",type:n,pure:!0}),n})(),Qo=(()=>{class n{constructor(){this.loading=!0}ngOnInit(){}get title(){switch(this.taskStatus.postprocessor_status){case lt.INJECTING:return"\u66f4\u65b0 FLV \u5143\u6570\u636e";case lt.REMUXING:return"\u8f6c\u6362 FLV \u4e3a MP4";default:return"\u6587\u4ef6\u5904\u7406"}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-postprocessing-detail"]],inputs:{loading:"loading",taskStatus:"taskStatus"},decls:6,vars:9,consts:[[3,"nzTitle","nzLoading"],[3,"title"],["nzStatus","active",3,"nzPercent"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"p",1),t._uU(2),t.ALo(3,"filename"),t.qZA(),t._UZ(4,"nz-progress",2),t.ALo(5,"progress"),t.qZA()),2&e){let s;t.Q6J("nzTitle",o.title)("nzLoading",o.loading),t.xp6(1),t.Q6J("title",o.taskStatus.postprocessing_path),t.xp6(1),t.hij(" ",t.lcZ(3,5,null!==(s=o.taskStatus.postprocessing_path)&&void 0!==s?s:"")," "),t.xp6(2),t.Q6J("nzPercent",null===o.taskStatus.postprocessing_progress?0:t.lcZ(5,7,o.taskStatus.postprocessing_progress))}},directives:[D.bd,$t],pipes:[Ot,se],styles:["p[_ngcontent-%COMP%]{margin:0}"],changeDetection:0}),n})();const qo=new Map([[T.RECORDING,"\u5f55\u5236\u4e2d"],[T.INJECTING,"\u5904\u7406\u4e2d"],[T.REMUXING,"\u5904\u7406\u4e2d"],[T.COMPLETED,"\u5df2\u5b8c\u6210"],[T.MISSING,"\u4e0d\u5b58\u5728"],[T.BROKEN,"\u5f55\u5236\u4e2d\u65ad"]]);let Uo=(()=>{class n{transform(e){var o;return null!==(o=qo.get(e))&&void 0!==o?o:"\uff1f\uff1f\uff1f"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filestatus",type:n,pure:!0}),n})();function Ro(n,i){if(1&n&&(t.TgZ(0,"th",5),t._uU(1),t.qZA()),2&n){const e=i.$implicit;t.Q6J("nzSortOrder",e.sortOrder)("nzSortFn",e.sortFn)("nzSortDirections",e.sortDirections)("nzFilters",e.listOfFilter)("nzFilterFn",e.filterFn)("nzFilterMultiple",e.filterMultiple)("nzShowFilter",e.listOfFilter.length>0),t.xp6(1),t.hij(" ",e.name," ")}}function Yo(n,i){if(1&n&&(t.TgZ(0,"tr"),t.TgZ(1,"td",6),t._uU(2),t.ALo(3,"filename"),t.qZA(),t.TgZ(4,"td",6),t.ALo(5,"number"),t._uU(6),t.ALo(7,"filesize"),t.qZA(),t.TgZ(8,"td",6),t._uU(9),t.ALo(10,"filestatus"),t.qZA(),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.s9C("title",e.path),t.xp6(1),t.Oqu(t.lcZ(3,9,e.path)),t.xp6(2),t.s9C("title",t.lcZ(5,11,e.size)),t.xp6(2),t.Oqu(t.lcZ(7,13,e.size)),t.xp6(2),t.Gre("status ",e.status,""),t.s9C("title",e.status),t.xp6(1),t.hij(" ",t.lcZ(10,15,e.status)," ")}}const ae=[T.RECORDING,T.INJECTING,T.REMUXING,T.COMPLETED,T.MISSING];let Lo=(()=>{class n{constructor(){this.loading=!0,this.videoFileDetails=[],this.danmakuFileDetails=[],this.VideoFileStatus=T,this.fileDetails=[],this.columns=[{name:"\u6587\u4ef6",sortOrder:"ascend",sortFn:(e,o)=>e.path.localeCompare(o.path),sortDirections:["ascend","descend"],filterMultiple:!1,listOfFilter:[{text:"\u89c6\u9891",value:"video"},{text:"\u5f39\u5e55",value:"danmaku"}],filterFn:(e,o)=>{switch(e){case"video":return o.path.endsWith(".flv")||o.path.endsWith(".mp4");case"danmaku":return o.path.endsWith(".xml");default:return!1}}},{name:"\u5927\u5c0f",sortOrder:null,sortFn:(e,o)=>e.size-o.size,sortDirections:["ascend","descend",null],filterMultiple:!0,listOfFilter:[],filterFn:null},{name:"\u72b6\u6001",sortOrder:null,sortFn:(e,o)=>ae.indexOf(e.status)-ae.indexOf(o.status),sortDirections:["ascend","descend",null],filterMultiple:!0,listOfFilter:[{text:"\u5f55\u5236\u4e2d",value:[T.RECORDING]},{text:"\u5904\u7406\u4e2d",value:[T.INJECTING,T.REMUXING]},{text:"\u5df2\u5b8c\u6210",value:[T.COMPLETED]},{text:"\u4e0d\u5b58\u5728",value:[T.MISSING]}],filterFn:(e,o)=>e.some(s=>s.some(a=>a===o.status))}]}ngOnChanges(){this.fileDetails=[...this.videoFileDetails,...this.danmakuFileDetails]}trackByPath(e,o){return o.path}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-file-detail"]],inputs:{loading:"loading",videoFileDetails:"videoFileDetails",danmakuFileDetails:"danmakuFileDetails"},features:[t.TTD],decls:8,vars:8,consts:[["nzTitle","\u6587\u4ef6\u8be6\u60c5",3,"nzLoading"],[3,"nzLoading","nzData","nzPageSize","nzHideOnSinglePage"],["fileDetailsTable",""],[3,"nzSortOrder","nzSortFn","nzSortDirections","nzFilters","nzFilterFn","nzFilterMultiple","nzShowFilter",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzSortOrder","nzSortFn","nzSortDirections","nzFilters","nzFilterFn","nzFilterMultiple","nzShowFilter"],[3,"title"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-table",1,2),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.YNc(5,Ro,2,8,"th",3),t.qZA(),t.qZA(),t.TgZ(6,"tbody"),t.YNc(7,Yo,11,17,"tr",4),t.qZA(),t.qZA(),t.qZA()),2&e){const s=t.MAs(2);t.Q6J("nzLoading",o.loading),t.xp6(1),t.Q6J("nzLoading",o.loading)("nzData",o.fileDetails)("nzPageSize",8)("nzHideOnSinglePage",!0),t.xp6(4),t.Q6J("ngForOf",o.columns),t.xp6(2),t.Q6J("ngForOf",s.data)("ngForTrackBy",o.trackByPath)}},directives:[D.bd,B.N8,B.Om,B.$Z,u.sg,B.Uo,B._C,B.qD,B.p0],pipes:[Ot,u.JJ,Zt,Uo],styles:[".status.recording[_ngcontent-%COMP%]{color:red}.status.injecting[_ngcontent-%COMP%], .status.remuxing[_ngcontent-%COMP%]{color:#00f}.status.completed[_ngcontent-%COMP%]{color:green}.status.missing[_ngcontent-%COMP%]{color:gray}.status.broken[_ngcontent-%COMP%]{color:orange}"],changeDetection:0}),n})();function Go(n,i){if(1&n&&t._UZ(0,"app-task-user-info-detail",6),2&n){const e=t.oxw(2);t.Q6J("loading",e.loading)("userInfo",e.taskData.user_info)}}function $o(n,i){if(1&n&&t._UZ(0,"app-task-room-info-detail",7),2&n){const e=t.oxw(2);t.Q6J("loading",e.loading)("roomInfo",e.taskData.room_info)}}function Vo(n,i){if(1&n&&t._UZ(0,"app-task-recording-detail",8),2&n){const e=t.oxw(2);t.Q6J("loading",e.loading)("taskStatus",e.taskData.task_status)}}function jo(n,i){if(1&n&&t._UZ(0,"app-task-postprocessing-detail",8),2&n){const e=t.oxw(2);t.Q6J("loading",e.loading)("taskStatus",e.taskData.task_status)}}function Ho(n,i){if(1&n&&(t.YNc(0,Go,1,2,"app-task-user-info-detail",2),t.YNc(1,$o,1,2,"app-task-room-info-detail",3),t.YNc(2,Vo,1,2,"app-task-recording-detail",4),t.YNc(3,jo,1,2,"app-task-postprocessing-detail",4),t._UZ(4,"app-task-file-detail",5)),2&n){const e=t.oxw();t.Q6J("ngIf",e.taskData),t.xp6(1),t.Q6J("ngIf",e.taskData),t.xp6(1),t.Q6J("ngIf",e.taskData),t.xp6(1),t.Q6J("ngIf",null==e.taskData||null==e.taskData.task_status?null:e.taskData.task_status.postprocessing_path),t.xp6(1),t.Q6J("loading",e.loading)("videoFileDetails",e.videoFileDetails)("danmakuFileDetails",e.danmakuFileDetails)}}const Wo=function(){return{"max-width":"unset"}},Xo=function(){return{"row-gap":"1em"}};let Ko=(()=>{class n{constructor(e,o,s,a,c){this.route=e,this.router=o,this.changeDetector=s,this.notification=a,this.taskService=c,this.videoFileDetails=[],this.danmakuFileDetails=[],this.loading=!0}ngOnInit(){this.route.paramMap.subscribe(e=>{this.roomId=parseInt(e.get("id")),this.syncData()})}ngOnDestroy(){this.desyncData()}syncData(){this.dataSubscription=(0,N.of)((0,N.of)(0),Xt(1e3)).pipe((0,te.u)(),(0,Ct.w)(()=>Kt(this.taskService.getTaskData(this.roomId),this.taskService.getVideoFileDetails(this.roomId),this.taskService.getDanmakuFileDetails(this.roomId))),(0,rt.K)(e=>{throw this.notification.error("\u83b7\u53d6\u4efb\u52a1\u6570\u636e\u51fa\u9519",e.message),e}),(0,At.X)(10,3e3)).subscribe(([e,o,s])=>{this.loading=!1,this.taskData=e,this.videoFileDetails=o,this.danmakuFileDetails=s,this.changeDetector.markForCheck()},e=>{this.notification.error("\u83b7\u53d6\u4efb\u52a1\u6570\u636e\u51fa\u9519","\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38, \u8bf7\u5f85\u7f51\u7edc\u6b63\u5e38\u540e\u5237\u65b0\u3002",{nzDuration:0})})}desyncData(){var e;null===(e=this.dataSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(at.gz),t.Y36(at.F0),t.Y36(t.sBO),t.Y36(ee.zb),t.Y36(Dt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-detail"]],decls:2,vars:5,consts:[["pageTitle","\u4efb\u52a1\u8be6\u60c5",3,"loading","pageStyles","contentStyles"],["appSubPageContent",""],[3,"loading","userInfo",4,"ngIf"],[3,"loading","roomInfo",4,"ngIf"],[3,"loading","taskStatus",4,"ngIf"],[3,"loading","videoFileDetails","danmakuFileDetails"],[3,"loading","userInfo"],[3,"loading","roomInfo"],[3,"loading","taskStatus"]],template:function(e,o){1&e&&(t.TgZ(0,"app-sub-page",0),t.YNc(1,Ho,5,7,"ng-template",1),t.qZA()),2&e&&t.Q6J("loading",o.loading)("pageStyles",t.DdM(3,Wo))("contentStyles",t.DdM(4,Xo))},directives:[yo.q,So.Y,u.O5,Mo,Po,Jo,Qo,Lo],styles:[""],changeDetection:0}),n})();var ti=l(2323),ei=l(13),ni=l(5778),j=l(4850);const ct=["(max-width: 534.98px)","(min-width: 535px) and (max-width: 1199.98px)","(min-width: 1200px)"];var wt=l(9727);let Ft=(()=>{class n{constructor(e,o){this.message=e,this.taskService=o}getAllTaskRoomIds(){return this.taskService.getAllTaskData().pipe((0,j.U)(e=>e.map(o=>o.room_info.room_id)))}updateTaskInfo(e){return this.taskService.updateTaskInfo(e).pipe((0,x.b)(()=>{this.message.success("\u6210\u529f\u5237\u65b0\u4efb\u52a1\u7684\u6570\u636e")},o=>{this.message.error(`\u5237\u65b0\u4efb\u52a1\u7684\u6570\u636e\u51fa\u9519: ${o.message}`)}))}updateAllTaskInfos(){return this.taskService.updateAllTaskInfos().pipe((0,x.b)(()=>{this.message.success("\u6210\u529f\u5237\u65b0\u5168\u90e8\u4efb\u52a1\u7684\u6570\u636e")},e=>{this.message.error(`\u5237\u65b0\u5168\u90e8\u4efb\u52a1\u7684\u6570\u636e\u51fa\u9519: ${e.message}`)}))}addTask(e){return this.taskService.addTask(e).pipe((0,j.U)(o=>({type:"success",message:"\u6210\u529f\u6dfb\u52a0\u4efb\u52a1"})),(0,rt.K)(o=>{let s;return s=409==o.status?{type:"error",message:"\u4efb\u52a1\u5df2\u5b58\u5728\uff0c\u4e0d\u80fd\u91cd\u590d\u6dfb\u52a0\u3002"}:403==o.status?{type:"warning",message:"\u4efb\u52a1\u6570\u91cf\u8d85\u8fc7\u9650\u5236\uff0c\u4e0d\u80fd\u6dfb\u52a0\u4efb\u52a1\u3002"}:404==o.status?{type:"error",message:"\u76f4\u64ad\u95f4\u4e0d\u5b58\u5728"}:{type:"error",message:`\u6dfb\u52a0\u4efb\u52a1\u51fa\u9519: ${o.message}`},(0,N.of)(s)}),(0,j.U)(o=>(o.message=`${e}: ${o.message}`,o)),(0,x.b)(o=>{this.message[o.type](o.message)}))}removeTask(e){return this.taskService.removeTask(e).pipe((0,x.b)(()=>{this.message.success("\u4efb\u52a1\u5df2\u5220\u9664")},o=>{this.message.error(`\u5220\u9664\u4efb\u52a1\u51fa\u9519: ${o.message}`)}))}removeAllTasks(){const e=this.message.loading("\u6b63\u5728\u5220\u9664\u5168\u90e8\u4efb\u52a1...",{nzDuration:0}).messageId;return this.taskService.removeAllTasks().pipe((0,x.b)(()=>{this.message.remove(e),this.message.success("\u6210\u529f\u5220\u9664\u5168\u90e8\u4efb\u52a1")},o=>{this.message.remove(e),this.message.error(`\u5220\u9664\u5168\u90e8\u4efb\u52a1\u51fa\u9519: ${o.message}`)}))}startTask(e){const o=this.message.loading("\u6b63\u5728\u8fd0\u884c\u4efb\u52a1...",{nzDuration:0}).messageId;return this.taskService.startTask(e).pipe((0,x.b)(()=>{this.message.remove(o),this.message.success("\u6210\u529f\u8fd0\u884c\u4efb\u52a1")},s=>{this.message.remove(o),this.message.error(`\u8fd0\u884c\u4efb\u52a1\u51fa\u9519: ${s.message}`)}))}startAllTasks(){const e=this.message.loading("\u6b63\u5728\u8fd0\u884c\u5168\u90e8\u4efb\u52a1...",{nzDuration:0}).messageId;return this.taskService.startAllTasks().pipe((0,x.b)(()=>{this.message.remove(e),this.message.success("\u6210\u529f\u8fd0\u884c\u5168\u90e8\u4efb\u52a1")},o=>{this.message.remove(e),this.message.error(`\u8fd0\u884c\u5168\u90e8\u4efb\u52a1\u51fa\u9519: ${o.message}`)}))}stopTask(e,o=!1){const s=this.message.loading("\u6b63\u5728\u505c\u6b62\u4efb\u52a1...",{nzDuration:0}).messageId;return this.taskService.stopTask(e,o).pipe((0,x.b)(()=>{this.message.remove(s),this.message.success("\u6210\u529f\u505c\u6b62\u4efb\u52a1")},a=>{this.message.remove(s),this.message.error(`\u505c\u6b62\u4efb\u52a1\u51fa\u9519: ${a.message}`)}))}stopAllTasks(e=!1){const o=this.message.loading("\u6b63\u5728\u505c\u6b62\u5168\u90e8\u4efb\u52a1...",{nzDuration:0}).messageId;return this.taskService.stopAllTasks(e).pipe((0,x.b)(()=>{this.message.remove(o),this.message.success("\u6210\u529f\u505c\u6b62\u5168\u90e8\u4efb\u52a1")},s=>{this.message.remove(o),this.message.error(`\u505c\u6b62\u5168\u90e8\u4efb\u52a1\u51fa\u9519: ${s.message}`)}))}enableRecorder(e){const o=this.message.loading("\u6b63\u5728\u5f00\u542f\u5f55\u5236...",{nzDuration:0}).messageId;return this.taskService.enableTaskRecorder(e).pipe((0,x.b)(()=>{this.message.remove(o),this.message.success("\u6210\u529f\u5f00\u542f\u5f55\u5236")},s=>{this.message.remove(o),this.message.error(`\u5f00\u542f\u5f55\u5236\u51fa\u9519: ${s.message}`)}))}enableAllRecorders(){const e=this.message.loading("\u6b63\u5728\u5f00\u542f\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236...",{nzDuration:0}).messageId;return this.taskService.enableAllRecorders().pipe((0,x.b)(()=>{this.message.remove(e),this.message.success("\u6210\u529f\u5f00\u542f\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236")},o=>{this.message.remove(e),this.message.error(`\u5f00\u542f\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236\u51fa\u9519: ${o.message}`)}))}disableRecorder(e,o=!1){const s=this.message.loading("\u6b63\u5728\u5173\u95ed\u5f55\u5236...",{nzDuration:0}).messageId;return this.taskService.disableTaskRecorder(e,o).pipe((0,x.b)(()=>{this.message.remove(s),this.message.success("\u6210\u529f\u5173\u95ed\u5f55\u5236")},a=>{this.message.remove(s),this.message.error(`\u5173\u95ed\u5f55\u5236\u51fa\u9519: ${a.message}`)}))}disableAllRecorders(e=!1){const o=this.message.loading("\u6b63\u5728\u5173\u95ed\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236...",{nzDuration:0}).messageId;return this.taskService.disableAllRecorders(e).pipe((0,x.b)(()=>{this.message.remove(o),this.message.success("\u6210\u529f\u5173\u95ed\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236")},s=>{this.message.remove(o),this.message.error(`\u5173\u95ed\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236\u51fa\u9519: ${s.message}`)}))}cutStream(e){return this.taskService.cutStream(e).pipe((0,x.b)(()=>{this.message.success("\u6587\u4ef6\u5207\u5272\u5df2\u89e6\u53d1")},o=>{403==o.status?this.message.warning("\u65f6\u957f\u592a\u77ed\u4e0d\u80fd\u5207\u5272\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5\u3002"):this.message.error(`\u5207\u5272\u6587\u4ef6\u51fa\u9519: ${o.message}`)}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(wt.dD),t.LFG(Dt))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Nt=l(2683),ut=l(4219);function oi(n,i){if(1&n&&(t.ynx(0),t.GkF(1,8),t._UZ(2,"nz-divider",13),t.GkF(3,8),t._UZ(4,"nz-divider",13),t.GkF(5,8),t._UZ(6,"nz-divider",13),t.GkF(7,8),t.BQk()),2&n){t.oxw();const e=t.MAs(5),o=t.MAs(9),s=t.MAs(11),a=t.MAs(13);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.Q6J("ngTemplateOutlet",s),t.xp6(2),t.Q6J("ngTemplateOutlet",a)}}function ii(n,i){if(1&n&&(t.ynx(0),t.GkF(1,8),t._UZ(2,"nz-divider",13),t.GkF(3,8),t._UZ(4,"nz-divider",13),t.GkF(5,8),t._UZ(6,"nz-divider",13),t.GkF(7,8),t.BQk()),2&n){t.oxw();const e=t.MAs(7),o=t.MAs(9),s=t.MAs(11),a=t.MAs(13);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(2),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.Q6J("ngTemplateOutlet",s),t.xp6(2),t.Q6J("ngTemplateOutlet",a)}}function si(n,i){if(1&n&&(t.ynx(0),t.GkF(1,8),t.GkF(2,8),t.BQk()),2&n){t.oxw();const e=t.MAs(9),o=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e),t.xp6(1),t.Q6J("ngTemplateOutlet",o)}}function ai(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"label",16),t._uU(2),t.qZA(),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("nzValue",e.value),t.xp6(1),t.Oqu(e.label)}}function ri(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-radio-group",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().selection=s})("ngModelChange",function(s){return t.CHM(e),t.oxw().selectionChange.emit(s)}),t.YNc(1,ai,3,2,"ng-container",15),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngModel",e.selection),t.xp6(1),t.Q6J("ngForOf",e.selections)}}function li(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-select",17),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().selection=s})("ngModelChange",function(s){return t.CHM(e),t.oxw().selectionChange.emit(s)}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("nzOptions",e.selections)("ngModel",e.selection)}}function ci(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"i",23),t.NdJ("click",function(){t.CHM(e),t.oxw(2);const s=t.MAs(2),a=t.oxw();return s.value="",a.onFilterInput("")}),t.qZA()}}function ui(n,i){if(1&n&&t.YNc(0,ci,1,0,"i",22),2&n){t.oxw();const e=t.MAs(2);t.Q6J("ngIf",e.value)}}function pi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-input-group",18),t.TgZ(1,"input",19,20),t.NdJ("input",function(){t.CHM(e);const s=t.MAs(2);return t.oxw().onFilterInput(s.value)}),t.qZA(),t.qZA(),t.YNc(3,ui,1,1,"ng-template",null,21,t.W1O)}if(2&n){const e=t.MAs(4);t.Q6J("nzSuffix",e)}}function gi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",24),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleReverse()}),t.TgZ(1,"span"),t._uU(2),t.qZA(),t._UZ(3,"i",25),t.qZA()}if(2&n){const e=t.oxw();t.xp6(2),t.Oqu(e.reverse?"\u5012\u5e8f":"\u6b63\u5e8f"),t.xp6(1),t.Q6J("nzType",e.reverse?"swap-left":"swap-right")("nzRotate",90)}}function di(n,i){if(1&n&&(t.TgZ(0,"button",26),t._UZ(1,"i",27),t.qZA()),2&n){t.oxw();const e=t.MAs(15);t.Q6J("nzDropdownMenu",e)}}function mi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ul",28),t.TgZ(1,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().startAllTasks()}),t._uU(2,"\u5168\u90e8\u8fd0\u884c"),t.qZA(),t.TgZ(3,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().stopAllTasks()}),t._uU(4,"\u5168\u90e8\u505c\u6b62"),t.qZA(),t.TgZ(5,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().stopAllTasks(!0)}),t._uU(6,"\u5168\u90e8\u5f3a\u5236\u505c\u6b62"),t.qZA(),t._UZ(7,"li",30),t.TgZ(8,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().disableAllRecorders(!1)}),t._uU(9,"\u5168\u90e8\u5173\u95ed\u5f55\u5236"),t.qZA(),t.TgZ(10,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().disableAllRecorders(!0)}),t._uU(11,"\u5168\u90e8\u5f3a\u5236\u5173\u95ed\u5f55\u5236"),t.qZA(),t._UZ(12,"li",30),t.TgZ(13,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeAllTasks()}),t._uU(14,"\u5168\u90e8\u5220\u9664"),t.qZA(),t.TgZ(15,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateAllTaskInfos()}),t._uU(16,"\u5168\u90e8\u5237\u65b0\u6570\u636e"),t.qZA(),t.TgZ(17,"li",29),t.NdJ("click",function(){return t.CHM(e),t.oxw().copyAllTaskRoomIds()}),t._uU(18,"\u590d\u5236\u5168\u90e8\u623f\u95f4\u53f7"),t.qZA(),t.qZA()}}function _i(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().drawerVisible=!0}),t._UZ(1,"i",27),t.qZA()}}function fi(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"div",35),t._UZ(2,"nz-divider",36),t.GkF(3,8),t._UZ(4,"nz-divider",37),t.TgZ(5,"div",38),t.GkF(6,8),t.qZA(),t.qZA(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(5),o=t.MAs(11);t.xp6(3),t.Q6J("ngTemplateOutlet",e),t.xp6(3),t.Q6J("ngTemplateOutlet",o)}}function hi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).menuDrawerVisible=!1}),t.GkF(2,8),t.qZA(),t.BQk()}if(2&n){t.oxw(2);const e=t.MAs(18);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}const zi=function(){return{padding:"0"}};function Ci(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-drawer",32),t.NdJ("nzVisibleChange",function(s){return t.CHM(e),t.oxw().drawerVisible=s})("nzOnClose",function(){return t.CHM(e),t.oxw().drawerVisible=!1}),t.YNc(1,fi,7,2,"ng-container",33),t.TgZ(2,"nz-drawer",34),t.NdJ("nzVisibleChange",function(s){return t.CHM(e),t.oxw().menuDrawerVisible=s})("nzOnClose",function(){return t.CHM(e),t.oxw().menuDrawerVisible=!1}),t.YNc(3,hi,3,1,"ng-container",33),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(),o=t.MAs(23);t.Q6J("nzTitle",o)("nzClosable",!1)("nzVisible",e.drawerVisible),t.xp6(2),t.Q6J("nzClosable",!1)("nzBodyStyle",t.DdM(6,zi))("nzVisible",e.menuDrawerVisible)}}function Ti(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",40),t.TgZ(1,"button",31),t.NdJ("click",function(){return t.CHM(e),t.oxw().menuDrawerVisible=!0}),t._UZ(2,"i",27),t.qZA(),t.qZA()}}let xi=(()=>{class n{constructor(e,o,s,a,c,r){this.message=s,this.modal=a,this.clipboard=c,this.taskManager=r,this.selectionChange=new t.vpe,this.reverseChange=new t.vpe,this.filterChange=new t.vpe,this.destroyed=new k.xQ,this.useDrawer=!1,this.useSelector=!1,this.useRadioGroup=!0,this.drawerVisible=!1,this.menuDrawerVisible=!1,this.filterTerms=new k.xQ,this.selections=[{label:"\u5168\u90e8",value:M.ALL},{label:"\u5f55\u5236\u4e2d",value:M.RECORDING},{label:"\u5f55\u5236\u5f00",value:M.RECORDER_ENABLED},{label:"\u5f55\u5236\u5173",value:M.RECORDER_DISABLED},{label:"\u8fd0\u884c",value:M.MONITOR_ENABLED},{label:"\u505c\u6b62",value:M.MONITOR_DISABLED},{label:"\u76f4\u64ad",value:M.LIVING},{label:"\u8f6e\u64ad",value:M.ROUNDING},{label:"\u95f2\u7f6e",value:M.PREPARING}],o.observe(ct).pipe((0,v.R)(this.destroyed)).subscribe(g=>{this.useDrawer=g.breakpoints[ct[0]],this.useSelector=g.breakpoints[ct[1]],this.useRadioGroup=g.breakpoints[ct[2]],e.markForCheck()})}ngOnInit(){this.filterTerms.pipe((0,ei.b)(300),(0,ni.x)()).subscribe(e=>{this.filterChange.emit(e)})}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}onFilterInput(e){this.filterTerms.next(e)}toggleReverse(){this.reverse=!this.reverse,this.reverseChange.emit(this.reverse)}removeAllTasks(){this.modal.confirm({nzTitle:"\u786e\u5b9a\u8981\u5220\u9664\u5168\u90e8\u4efb\u52a1\uff1f",nzContent:"\u6b63\u5728\u5f55\u5236\u7684\u4efb\u52a1\u5c06\u88ab\u5f3a\u5236\u505c\u6b62\uff01\u4efb\u52a1\u5220\u9664\u540e\u5c06\u4e0d\u53ef\u6062\u590d\uff01",nzOnOk:()=>new Promise((e,o)=>{this.taskManager.removeAllTasks().subscribe(e,o)})})}startAllTasks(){this.taskManager.startAllTasks().subscribe()}stopAllTasks(e=!1){e?this.modal.confirm({nzTitle:"\u786e\u5b9a\u8981\u5f3a\u5236\u505c\u6b62\u5168\u90e8\u4efb\u52a1\uff1f",nzContent:"\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\u4f1a\u88ab\u5f3a\u884c\u4e2d\u65ad\uff01\u786e\u5b9a\u8981\u653e\u5f03\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\uff1f",nzOnOk:()=>new Promise((o,s)=>{this.taskManager.stopAllTasks(e).subscribe(o,s)})}):this.taskManager.stopAllTasks().subscribe()}disableAllRecorders(e=!1){e?this.modal.confirm({nzTitle:"\u786e\u5b9a\u8981\u5f3a\u5236\u5173\u95ed\u5168\u90e8\u4efb\u52a1\u7684\u5f55\u5236\uff1f",nzContent:"\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\u4f1a\u88ab\u5f3a\u884c\u4e2d\u65ad\uff01\u786e\u5b9a\u8981\u653e\u5f03\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\uff1f",nzOnOk:()=>new Promise((o,s)=>{this.taskManager.disableAllRecorders(e).subscribe(o,s)})}):this.taskManager.disableAllRecorders().subscribe()}updateAllTaskInfos(){this.taskManager.updateAllTaskInfos().subscribe()}copyAllTaskRoomIds(){this.taskManager.getAllTaskRoomIds().pipe((0,j.U)(e=>e.join(" ")),(0,x.b)(e=>{if(!this.clipboard.copy(e))throw Error("Failed to copy text to the clipboard")})).subscribe(()=>{this.message.success("\u5168\u90e8\u623f\u95f4\u53f7\u5df2\u590d\u5236\u5230\u526a\u5207\u677f")},e=>{this.message.error("\u590d\u5236\u5168\u90e8\u623f\u95f4\u53f7\u5230\u526a\u5207\u677f\u51fa\u9519",e)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(q.Yg),t.Y36(wt.dD),t.Y36(V.Sf),t.Y36(U),t.Y36(Ft))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-toolbar"]],inputs:{selection:"selection",reverse:"reverse"},outputs:{selectionChange:"selectionChange",reverseChange:"reverseChange",filterChange:"filterChange"},decls:24,vars:7,consts:[[1,"controls-wrapper"],[4,"ngIf"],["radioGroup",""],["selector",""],["filter",""],["reorderButton",""],["menuButton",""],["dropdownMenu","nzDropdownMenu"],[3,"ngTemplateOutlet"],["menu",""],["drawerButton",""],["nzPlacement","bottom","nzHeight","auto",3,"nzTitle","nzClosable","nzVisible","nzVisibleChange","nzOnClose",4,"ngIf"],["drawerHeader",""],["nzType","vertical"],["nzButtonStyle","solid",1,"radio-group",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["nz-radio-button","",3,"nzValue"],[1,"selector",3,"nzOptions","ngModel","ngModelChange"],[1,"filter",3,"nzSuffix"],["nz-input","","type","text","maxlength","18","placeholder","\u7528\u6807\u9898\u3001\u5206\u533a\u3001\u4e3b\u64ad\u540d\u3001\u623f\u95f4\u53f7\u7b5b\u9009",3,"input"],["filterInput",""],["inputClearTpl",""],["nz-icon","","class","filter-clear","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"filter-clear",3,"click"],["nz-button","","nzType","text","nzSize","default",1,"reverse-button",3,"click"],["nz-icon","",3,"nzType","nzRotate"],["nz-button","","nzType","text","nzSize","default","nz-dropdown","","nzPlacement","bottomRight",1,"more-actions-button",3,"nzDropdownMenu"],["nz-icon","","nzType","more"],["nz-menu","",1,"menu"],["nz-menu-item","",3,"click"],["nz-menu-divider",""],["nz-button","","nzType","text","nzSize","default",1,"more-actions-button",3,"click"],["nzPlacement","bottom","nzHeight","auto",3,"nzTitle","nzClosable","nzVisible","nzVisibleChange","nzOnClose"],[4,"nzDrawerContent"],["nzPlacement","bottom","nzHeight","auto",3,"nzClosable","nzBodyStyle","nzVisible","nzVisibleChange","nzOnClose"],[1,"drawer-content"],["nzText","\u7b5b\u9009"],["nzText","\u6392\u5e8f"],[1,"reorder-button-wrapper"],[1,"drawer-content",3,"click"],[1,"drawer-header"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,oi,8,4,"ng-container",1),t.YNc(2,ii,8,4,"ng-container",1),t.YNc(3,si,3,2,"ng-container",1),t.qZA(),t.YNc(4,ri,2,2,"ng-template",null,2,t.W1O),t.YNc(6,li,1,2,"ng-template",null,3,t.W1O),t.YNc(8,pi,5,1,"ng-template",null,4,t.W1O),t.YNc(10,gi,4,3,"ng-template",null,5,t.W1O),t.YNc(12,di,2,1,"ng-template",null,6,t.W1O),t.TgZ(14,"nz-dropdown-menu",null,7),t.GkF(16,8),t.YNc(17,mi,19,0,"ng-template",null,9,t.W1O),t.qZA(),t.YNc(19,_i,2,0,"ng-template",null,10,t.W1O),t.YNc(21,Ci,4,7,"nz-drawer",11),t.YNc(22,Ti,3,0,"ng-template",null,12,t.W1O)),2&e){const s=t.MAs(18);t.ekj("use-drawer",o.useDrawer),t.xp6(1),t.Q6J("ngIf",o.useRadioGroup),t.xp6(1),t.Q6J("ngIf",o.useSelector),t.xp6(1),t.Q6J("ngIf",o.useDrawer),t.xp6(13),t.Q6J("ngTemplateOutlet",s),t.xp6(5),t.Q6J("ngIf",o.useDrawer)}},directives:[u.O5,u.tP,qt.g,zt.Dg,d.JJ,d.On,u.sg,zt.Of,zt.Bq,bt.Vq,Nt.w,tt.gB,tt.ke,tt.Zp,S.Ls,ht.ix,K.wA,K.cm,K.RR,ut.wO,ut.r9,ut.YV,st.Vz,st.SQ],styles:[".drawer-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{box-shadow:none;padding:.5em 0}.drawer-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   *[nz-menu-item][_ngcontent-%COMP%]{margin:0;padding:.5em 2em}.controls-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:.2em;width:100%;padding:.2em;background:#f9f9f9;border-left:none;border-right:none}.controls-wrapper[_ngcontent-%COMP%]   nz-divider[_ngcontent-%COMP%]{height:1.8em;top:0}.controls-wrapper[_ngcontent-%COMP%]:not(.use-drawer)   .filter[_ngcontent-%COMP%]{max-width:18em}.controls-wrapper.use-drawer[_ngcontent-%COMP%]   .filter[_ngcontent-%COMP%]{max-width:unset;width:unset;flex:auto}.controls-wrapper[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{min-width:6em}.reverse-button[_ngcontent-%COMP%]{padding:0 .5em}.reverse-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin:0}.more-actions-button[_ngcontent-%COMP%]{margin-left:auto;border:none;background:inherit}.more-actions-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}.menu[_ngcontent-%COMP%]   nz-divider[_ngcontent-%COMP%]{margin:0}.drawer-header[_ngcontent-%COMP%]{display:flex}.drawer-content[_ngcontent-%COMP%]   .reorder-button-wrapper[_ngcontent-%COMP%], .drawer-content[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-gap:2vw;gap:2vw}.drawer-content[_ngcontent-%COMP%]   nz-divider[_ngcontent-%COMP%]:first-of-type{margin-top:0}.drawer-content[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{text-align:center;padding:0}"],changeDetection:0}),n})();var ki=l(5136);const vi=function(){return{spacer:""}};function bi(n,i){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"p",3),t.TgZ(2,"span",4),t._UZ(3,"i"),t.qZA(),t.TgZ(4,"span",5),t._uU(5),t.ALo(6,"duration"),t.qZA(),t.TgZ(7,"span",6),t._uU(8),t.ALo(9,"speed"),t.qZA(),t.TgZ(10,"span",7),t._uU(11),t.ALo(12,"filesize"),t.qZA(),t.TgZ(13,"span",8),t.ALo(14,"number"),t._uU(15),t.ALo(16,"number"),t.qZA(),t.TgZ(17,"span",9),t._uU(18),t.ALo(19,"quality"),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,6,e.status.elapsed)," "),t.xp6(3),t.hij(" ",t.lcZ(9,8,e.status.data_rate)," "),t.xp6(3),t.hij(" ",t.xi3(12,10,e.status.data_count,t.DdM(21,vi))," "),t.xp6(2),t.MGl("nzTooltipTitle","\u5f39\u5e55\u6570\u91cf\uff1a",t.xi3(14,13,e.status.danmu_count,"1.0-0"),""),t.xp6(2),t.hij(" ",t.xi3(16,16,e.status.danmu_count,"1.0-0")," "),t.xp6(3),t.hij(" ",t.lcZ(19,19,e.status.real_quality_number)," ")}}function yi(n,i){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"p",10),t.ALo(2,"filename"),t._uU(3),t.ALo(4,"filename"),t.qZA(),t._UZ(5,"nz-progress",11),t.ALo(6,"progress"),t.qZA()),2&n){const e=t.oxw();let o,s;t.xp6(1),t.MGl("nzTooltipTitle","\u6b63\u5728\u6dfb\u52a0\u5143\u6570\u636e\uff1a",t.lcZ(2,7,null!==(o=e.status.postprocessing_path)&&void 0!==o?o:""),""),t.xp6(2),t.hij(" ",t.lcZ(4,9,null!==(s=e.status.postprocessing_path)&&void 0!==s?s:"")," "),t.xp6(2),t.Q6J("nzType","line")("nzShowInfo",!1)("nzStrokeLinecap","square")("nzStrokeWidth",2)("nzPercent",null===e.status.postprocessing_progress?0:t.lcZ(6,11,e.status.postprocessing_progress))}}function Si(n,i){if(1&n&&(t.TgZ(0,"div",2),t.TgZ(1,"p",12),t.ALo(2,"filename"),t._uU(3),t.ALo(4,"filename"),t.qZA(),t._UZ(5,"nz-progress",11),t.ALo(6,"progress"),t.qZA()),2&n){const e=t.oxw();let o,s;t.xp6(1),t.MGl("nzTooltipTitle","\u6b63\u5728\u8f6c\u5c01\u88c5\uff1a",t.lcZ(2,7,null!==(o=e.status.postprocessing_path)&&void 0!==o?o:""),""),t.xp6(2),t.hij(" ",t.lcZ(4,9,null!==(s=e.status.postprocessing_path)&&void 0!==s?s:"")," "),t.xp6(2),t.Q6J("nzType","line")("nzShowInfo",!1)("nzStrokeLinecap","square")("nzStrokeWidth",2)("nzPercent",null===e.status.postprocessing_progress?0:t.lcZ(6,11,e.status.postprocessing_progress))}}let Mi=(()=>{class n{constructor(){this.RunningStatus=Z}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-status-display"]],inputs:{status:"status"},decls:4,vars:4,consts:[[3,"ngSwitch"],["class","status-display",4,"ngSwitchCase"],[1,"status-display"],[1,"status-bar","recording"],["nz-tooltip","","nzTooltipTitle","\u6b63\u5728\u5f55\u5236\u4e2d","nzTooltipPlacement","top",1,"status-indicator"],["nz-tooltip","","nzTooltipTitle","\u5f00\u59cb\u5f55\u5236\u5230\u73b0\u5728\u8fc7\u53bb\u7684\u65f6\u95f4","nzTooltipPlacement","top",1,"time-elapsed"],["nz-tooltip","","nzTooltipTitle","\u5f53\u524d\u5b9e\u65f6\u5f55\u5236\u901f\u5ea6","nzTooltipPlacement","top",1,"data-rate"],["nz-tooltip","","nzTooltipTitle","\u5df2\u5f55\u5236\u7684\u6570\u636e","nzTooltipPlacement","top",1,"data-count"],["nz-tooltip","","nzTooltipPlacement","top",1,"danmu-count",3,"nzTooltipTitle"],["nz-tooltip","","nzTooltipTitle","\u5f53\u524d\u5f55\u5236\u7684\u753b\u8d28","nzTooltipPlacement","leftTop",1,"quality"],["nz-tooltip","","nzTooltipPlacement","top",1,"status-bar","injecting",3,"nzTooltipTitle"],[3,"nzType","nzShowInfo","nzStrokeLinecap","nzStrokeWidth","nzPercent"],["nz-tooltip","","nzTooltipPlacement","top",1,"status-bar","remuxing",3,"nzTooltipTitle"]],template:function(e,o){1&e&&(t.ynx(0,0),t.YNc(1,bi,20,22,"div",1),t.YNc(2,yi,7,13,"div",1),t.YNc(3,Si,7,13,"div",1),t.BQk()),2&e&&(t.Q6J("ngSwitch",o.status.running_status),t.xp6(1),t.Q6J("ngSwitchCase",o.RunningStatus.RECORDING),t.xp6(1),t.Q6J("ngSwitchCase",o.RunningStatus.INJECTING),t.xp6(1),t.Q6J("ngSwitchCase",o.RunningStatus.REMUXING))},directives:[u.RF,u.n9,it.SY,$t],pipes:[ne,oe,Zt,u.JJ,ie,Ot,se],styles:[".status-bar[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 2px black;margin:0;padding:0 .5rem;background:rgba(0,0,0,.32)}.status-display[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%}.status-bar[_ngcontent-%COMP%]{display:flex;gap:1rem;font-size:1rem;line-height:1.8}.status-bar.recording[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.status-bar.recording[_ngcontent-%COMP%]   .status-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:.5rem;color:red;background:red;animation:blinker 1s cubic-bezier(1,0,0,1) infinite}@keyframes blinker{0%{opacity:0}to{opacity:1}}.status-bar.injecting[_ngcontent-%COMP%], .status-bar.remuxing[_ngcontent-%COMP%], .status-bar[_ngcontent-%COMP%]   .danmu-count[_ngcontent-%COMP%]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.status-bar[_ngcontent-%COMP%]   .quality[_ngcontent-%COMP%]{flex:none;margin-left:auto}nz-progress[_ngcontent-%COMP%]{display:flex}nz-progress[_ngcontent-%COMP%]  .ant-progress-outer{display:flex}"],changeDetection:0}),n})();var J=l(3523),Ai=l(2134),P=l(8737);function Di(n,i){1&n&&(t.ynx(0),t._uU(1," \u8bf7\u8f93\u5165\u8def\u5f84\u6a21\u677f "),t.BQk())}function Zi(n,i){1&n&&(t.ynx(0),t._uU(1," \u8def\u5f84\u6a21\u677f\u6709\u9519\u8bef "),t.BQk())}function Oi(n,i){if(1&n&&(t.YNc(0,Di,2,0,"ng-container",59),t.YNc(1,Zi,2,0,"ng-container",59)),2&n){const e=i.$implicit;t.Q6J("ngIf",e.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.hasError("pattern"))}}function wi(n,i){1&n&&(t.TgZ(0,"p"),t._uU(1," \u81ea\u52a8: \u8f6c\u6362\u6210\u529f\u624d\u5220\u9664\u6e90\u6587\u4ef6"),t._UZ(2,"br"),t._uU(3," \u4ece\u4e0d: \u8f6c\u6362\u540e\u603b\u662f\u4fdd\u7559\u6e90\u6587\u4ef6"),t._UZ(4,"br"),t.qZA())}function Fi(n,i){1&n&&(t.ynx(0),t._uU(1," \u8bf7\u8f93\u5165 User Agent "),t.BQk())}function Ni(n,i){1&n&&t.YNc(0,Fi,2,0,"ng-container",59),2&n&&t.Q6J("ngIf",i.$implicit.hasError("required"))}function Pi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"form",2),t.TgZ(2,"div",3),t.TgZ(3,"h2"),t._uU(4,"\u6587\u4ef6"),t.qZA(),t.TgZ(5,"nz-form-item",4),t.TgZ(6,"nz-form-label",5),t._uU(7,"\u8def\u5f84\u6a21\u677f"),t.qZA(),t.TgZ(8,"nz-form-control",6),t.TgZ(9,"input",7),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.output.pathTemplate=s}),t.qZA(),t.YNc(10,Oi,2,2,"ng-template",null,8,t.W1O),t.qZA(),t.TgZ(12,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.output.pathTemplate=s?a.globalSettings.output.pathTemplate:null}),t._uU(13,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(14,"nz-form-item",10),t.TgZ(15,"nz-form-label",11),t._uU(16,"\u5927\u5c0f\u9650\u5236"),t.qZA(),t.TgZ(17,"nz-form-control",12),t.TgZ(18,"nz-select",13),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.output.filesizeLimit=s}),t.qZA(),t.qZA(),t.TgZ(19,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.output.filesizeLimit=s?a.globalSettings.output.filesizeLimit:null}),t._uU(20,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(21,"nz-form-item",10),t.TgZ(22,"nz-form-label",11),t._uU(23,"\u65f6\u957f\u9650\u5236"),t.qZA(),t.TgZ(24,"nz-form-control",12),t.TgZ(25,"nz-select",14),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.output.durationLimit=s}),t.qZA(),t.qZA(),t.TgZ(26,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.output.durationLimit=s?a.globalSettings.output.durationLimit:null}),t._uU(27,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",15),t.TgZ(29,"h2"),t._uU(30,"\u5f55\u5236"),t.qZA(),t.TgZ(31,"nz-form-item",10),t.TgZ(32,"nz-form-label",16),t._uU(33,"\u753b\u8d28"),t.qZA(),t.TgZ(34,"nz-form-control",12),t.TgZ(35,"nz-select",17),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.recorder.qualityNumber=s}),t.qZA(),t.qZA(),t.TgZ(36,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.recorder.qualityNumber=s?a.globalSettings.recorder.qualityNumber:null}),t._uU(37,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(38,"nz-form-item",10),t.TgZ(39,"nz-form-label",18),t._uU(40,"\u4fdd\u5b58\u5c01\u9762"),t.qZA(),t.TgZ(41,"nz-form-control",19),t.TgZ(42,"nz-switch",20),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.recorder.saveCover=s}),t.qZA(),t.qZA(),t.TgZ(43,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.recorder.saveCover=s?a.globalSettings.recorder.saveCover:null}),t._uU(44,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(45,"nz-form-item",10),t.TgZ(46,"nz-form-label",21),t._uU(47,"\u6570\u636e\u8bfb\u53d6\u8d85\u65f6"),t.qZA(),t.TgZ(48,"nz-form-control",22),t.TgZ(49,"nz-select",23,24),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.recorder.readTimeout=s}),t.qZA(),t.qZA(),t.TgZ(51,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.recorder.readTimeout=s?a.globalSettings.recorder.readTimeout:null}),t._uU(52,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(53,"nz-form-item",10),t.TgZ(54,"nz-form-label",25),t._uU(55,"\u65ad\u7f51\u7b49\u5f85\u65f6\u95f4"),t.qZA(),t.TgZ(56,"nz-form-control",12),t.TgZ(57,"nz-select",26),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.recorder.disconnectionTimeout=s}),t.qZA(),t.qZA(),t.TgZ(58,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.recorder.bufferSize=s?a.globalSettings.recorder.bufferSize:null}),t._uU(59,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(60,"nz-form-item",10),t.TgZ(61,"nz-form-label",27),t._uU(62,"\u786c\u76d8\u5199\u5165\u7f13\u51b2"),t.qZA(),t.TgZ(63,"nz-form-control",12),t.TgZ(64,"nz-select",28),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.recorder.bufferSize=s}),t.qZA(),t.qZA(),t.TgZ(65,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.recorder.bufferSize=s?a.globalSettings.recorder.bufferSize:null}),t._uU(66,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(67,"div",29),t.TgZ(68,"h2"),t._uU(69,"\u5f39\u5e55"),t.qZA(),t.TgZ(70,"nz-form-item",10),t.TgZ(71,"nz-form-label",30),t._uU(72,"\u8bb0\u5f55\u793c\u7269"),t.qZA(),t.TgZ(73,"nz-form-control",19),t.TgZ(74,"nz-switch",31),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.recordGiftSend=s}),t.qZA(),t.qZA(),t.TgZ(75,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.recordGiftSend=s?a.globalSettings.danmaku.recordGiftSend:null}),t._uU(76,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(77,"nz-form-item",10),t.TgZ(78,"nz-form-label",32),t._uU(79,"\u8bb0\u5f55\u514d\u8d39\u793c\u7269"),t.qZA(),t.TgZ(80,"nz-form-control",19),t.TgZ(81,"nz-switch",33),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.recordFreeGifts=s}),t.qZA(),t.qZA(),t.TgZ(82,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.recordFreeGifts=s?a.globalSettings.danmaku.recordFreeGifts:null}),t._uU(83,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(84,"nz-form-item",10),t.TgZ(85,"nz-form-label",34),t._uU(86,"\u8bb0\u5f55\u4e0a\u8230"),t.qZA(),t.TgZ(87,"nz-form-control",19),t.TgZ(88,"nz-switch",35),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.recordGuardBuy=s}),t.qZA(),t.qZA(),t.TgZ(89,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.recordGuardBuy=s?a.globalSettings.danmaku.recordGuardBuy:null}),t._uU(90,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(91,"nz-form-item",10),t.TgZ(92,"nz-form-label",36),t._uU(93,"\u8bb0\u5f55 Super Chat"),t.qZA(),t.TgZ(94,"nz-form-control",19),t.TgZ(95,"nz-switch",37),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.recordSuperChat=s}),t.qZA(),t.qZA(),t.TgZ(96,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.recordSuperChat=s?a.globalSettings.danmaku.recordSuperChat:null}),t._uU(97,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(98,"nz-form-item",10),t.TgZ(99,"nz-form-label",38),t._uU(100,"\u5f39\u5e55\u524d\u52a0\u7528\u6237\u540d"),t.qZA(),t.TgZ(101,"nz-form-control",19),t.TgZ(102,"nz-switch",39),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.danmuUname=s}),t.qZA(),t.qZA(),t.TgZ(103,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.danmuUname=s?a.globalSettings.danmaku.danmuUname:null}),t._uU(104,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(105,"nz-form-item",10),t.TgZ(106,"nz-form-label",40),t._uU(107,"\u4fdd\u5b58\u539f\u59cb\u5f39\u5e55"),t.qZA(),t.TgZ(108,"nz-form-control",19),t.TgZ(109,"nz-switch",41),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.danmaku.saveRawDanmaku=s}),t.qZA(),t.qZA(),t.TgZ(110,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.danmaku.saveRawDanmaku=s?a.globalSettings.danmaku.saveRawDanmaku:null}),t._uU(111,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(112,"div",42),t.TgZ(113,"h2"),t._uU(114,"\u6587\u4ef6\u5904\u7406"),t.qZA(),t.TgZ(115,"nz-form-item",10),t.TgZ(116,"nz-form-label",43),t._uU(117,"flv \u6dfb\u52a0\u5143\u6570\u636e"),t.qZA(),t.TgZ(118,"nz-form-control",19),t.TgZ(119,"nz-switch",44),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.postprocessing.injectExtraMetadata=s}),t.qZA(),t.qZA(),t.TgZ(120,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.postprocessing.injectExtraMetadata=s?a.globalSettings.postprocessing.injectExtraMetadata:null}),t._uU(121,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(122,"nz-form-item",10),t.TgZ(123,"nz-form-label",45),t._uU(124,"flv \u8f6c\u5c01\u88c5\u4e3a mp4"),t.qZA(),t.TgZ(125,"nz-form-control",19),t.TgZ(126,"nz-switch",46),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.postprocessing.remuxToMp4=s}),t.qZA(),t.qZA(),t.TgZ(127,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.postprocessing.remuxToMp4=s?a.globalSettings.postprocessing.remuxToMp4:null}),t._uU(128,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(129,"nz-form-item",10),t.TgZ(130,"nz-form-label",11),t._uU(131,"\u6e90\u6587\u4ef6\u5220\u9664\u7b56\u7565"),t.qZA(),t.YNc(132,wi,5,0,"ng-template",null,47,t.W1O),t.TgZ(134,"nz-form-control",12),t.TgZ(135,"nz-select",48),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.postprocessing.deleteSource=s}),t.qZA(),t.qZA(),t.TgZ(136,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.postprocessing.deleteSource=s?a.globalSettings.postprocessing.deleteSource:null}),t._uU(137,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(138,"div",49),t.TgZ(139,"h2"),t._uU(140,"\u7f51\u7edc\u8bf7\u6c42"),t.qZA(),t.TgZ(141,"nz-form-item",50),t.TgZ(142,"nz-form-label",51),t._uU(143,"User Agent"),t.qZA(),t.TgZ(144,"nz-form-control",52),t.TgZ(145,"textarea",53,54),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.header.userAgent=s}),t.qZA(),t.qZA(),t.YNc(147,Ni,1,1,"ng-template",null,8,t.W1O),t.TgZ(149,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.header.userAgent=s?a.globalSettings.header.userAgent:null}),t._uU(150,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.TgZ(151,"nz-form-item",50),t.TgZ(152,"nz-form-label",55),t._uU(153,"Cookie"),t.qZA(),t.TgZ(154,"nz-form-control",56),t.TgZ(155,"textarea",57,58),t.NdJ("ngModelChange",function(s){return t.CHM(e),t.oxw().model.header.cookie=s}),t.qZA(),t.qZA(),t.TgZ(157,"label",9),t.NdJ("nzCheckedChange",function(s){t.CHM(e);const a=t.oxw();return a.options.header.cookie=s?a.globalSettings.header.cookie:null}),t._uU(158,"\u8986\u76d6\u5168\u5c40\u8bbe\u7f6e"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.BQk()}if(2&n){const e=t.MAs(11),o=t.MAs(50),s=t.MAs(133),a=t.MAs(146),c=t.MAs(156),r=t.oxw();t.xp6(8),t.Q6J("nzErrorTip",e),t.xp6(1),t.Q6J("pattern",r.pathTemplatePattern)("ngModel",r.model.output.pathTemplate)("disabled",null===r.options.output.pathTemplate),t.xp6(3),t.Q6J("nzChecked",null!==r.options.output.pathTemplate),t.xp6(3),t.Q6J("nzTooltipTitle",r.splitFileTip),t.xp6(3),t.Q6J("ngModel",r.model.output.filesizeLimit)("disabled",null===r.options.output.filesizeLimit)("nzOptions",r.filesizeLimitOptions),t.xp6(1),t.Q6J("nzChecked",null!==r.options.output.filesizeLimit),t.xp6(3),t.Q6J("nzTooltipTitle",r.splitFileTip),t.xp6(3),t.Q6J("ngModel",r.model.output.durationLimit)("disabled",null===r.options.output.durationLimit)("nzOptions",r.durationLimitOptions),t.xp6(1),t.Q6J("nzChecked",null!==r.options.output.durationLimit),t.xp6(9),t.Q6J("ngModel",r.model.recorder.qualityNumber)("disabled",null===r.options.recorder.qualityNumber)("nzOptions",r.qualityOptions),t.xp6(1),t.Q6J("nzChecked",null!==r.options.recorder.qualityNumber),t.xp6(6),t.Q6J("ngModel",r.model.recorder.saveCover)("disabled",null===r.options.recorder.saveCover),t.xp6(1),t.Q6J("nzChecked",null!==r.options.recorder.saveCover),t.xp6(5),t.Q6J("nzValidateStatus",o.value>3?"warning":o),t.xp6(1),t.Q6J("ngModel",r.model.recorder.readTimeout)("disabled",null===r.options.recorder.readTimeout)("nzOptions",r.timeoutOptions),t.xp6(2),t.Q6J("nzChecked",null!==r.options.recorder.readTimeout),t.xp6(6),t.Q6J("ngModel",r.model.recorder.disconnectionTimeout)("disabled",null===r.options.recorder.disconnectionTimeout)("nzOptions",r.disconnectionTimeoutOptions)("nzOptionOverflowSize",6),t.xp6(1),t.Q6J("nzChecked",null!==r.options.recorder.bufferSize),t.xp6(6),t.Q6J("ngModel",r.model.recorder.bufferSize)("disabled",null===r.options.recorder.bufferSize)("nzOptions",r.bufferOptions)("nzOptionOverflowSize",6),t.xp6(1),t.Q6J("nzChecked",null!==r.options.recorder.bufferSize),t.xp6(9),t.Q6J("ngModel",r.model.danmaku.recordGiftSend)("disabled",null===r.options.danmaku.recordGiftSend),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.recordGiftSend),t.xp6(6),t.Q6J("ngModel",r.model.danmaku.recordFreeGifts)("disabled",null===r.options.danmaku.recordFreeGifts),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.recordFreeGifts),t.xp6(6),t.Q6J("ngModel",r.model.danmaku.recordGuardBuy)("disabled",null===r.options.danmaku.recordGuardBuy),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.recordGuardBuy),t.xp6(6),t.Q6J("ngModel",r.model.danmaku.recordSuperChat)("disabled",null===r.options.danmaku.recordSuperChat),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.recordSuperChat),t.xp6(6),t.Q6J("ngModel",r.model.danmaku.danmuUname)("disabled",null===r.options.danmaku.danmuUname),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.danmuUname),t.xp6(6),t.Q6J("ngModel",r.model.danmaku.saveRawDanmaku)("disabled",null===r.options.danmaku.saveRawDanmaku),t.xp6(1),t.Q6J("nzChecked",null!==r.options.danmaku.saveRawDanmaku),t.xp6(9),t.Q6J("ngModel",r.model.postprocessing.injectExtraMetadata)("disabled",null===r.options.postprocessing.injectExtraMetadata||!!r.options.postprocessing.remuxToMp4),t.xp6(1),t.Q6J("nzChecked",null!==r.options.postprocessing.injectExtraMetadata),t.xp6(6),t.Q6J("ngModel",r.model.postprocessing.remuxToMp4)("disabled",null===r.options.postprocessing.remuxToMp4),t.xp6(1),t.Q6J("nzChecked",null!==r.options.postprocessing.remuxToMp4),t.xp6(3),t.Q6J("nzTooltipTitle",s),t.xp6(5),t.Q6J("ngModel",r.model.postprocessing.deleteSource)("disabled",null===r.options.postprocessing.deleteSource||!r.options.postprocessing.remuxToMp4)("nzOptions",r.deleteStrategies),t.xp6(1),t.Q6J("nzChecked",null!==r.options.postprocessing.deleteSource),t.xp6(8),t.Q6J("nzWarningTip",r.warningTip)("nzValidateStatus",a.valid&&r.options.header.userAgent!==r.taskOptions.header.userAgent&&r.options.header.userAgent!==r.globalSettings.header.userAgent?"warning":a)("nzErrorTip",e),t.xp6(1),t.Q6J("rows",3)("ngModel",r.model.header.userAgent)("disabled",null===r.options.header.userAgent),t.xp6(4),t.Q6J("nzChecked",null!==r.options.header.userAgent),t.xp6(5),t.Q6J("nzWarningTip",r.warningTip)("nzValidateStatus",c.valid&&r.options.header.cookie!==r.taskOptions.header.cookie&&r.options.header.cookie!==r.globalSettings.header.cookie?"warning":c),t.xp6(1),t.Q6J("rows",3)("ngModel",r.model.header.cookie)("disabled",null===r.options.header.cookie),t.xp6(2),t.Q6J("nzChecked",null!==r.options.header.cookie)}}let Ii=(()=>{class n{constructor(e){this.changeDetector=e,this.visible=!1,this.visibleChange=new t.vpe,this.cancel=new t.vpe,this.confirm=new t.vpe,this.afterOpen=new t.vpe,this.afterClose=new t.vpe,this.warningTip="\u9700\u8981\u91cd\u542f\u5f39\u5e55\u5ba2\u6237\u7aef\u624d\u80fd\u751f\u6548\uff0c\u5982\u679c\u4efb\u52a1\u6b63\u5728\u5f55\u5236\u53ef\u80fd\u4f1a\u4e22\u5931\u5f39\u5e55\uff01",this.splitFileTip=P.Uk,this.pathTemplatePattern=P._m,this.filesizeLimitOptions=(0,J.Z)(P.Pu),this.durationLimitOptions=(0,J.Z)(P.Fg),this.qualityOptions=(0,J.Z)(P.O6),this.timeoutOptions=(0,J.Z)(P.D4),this.disconnectionTimeoutOptions=(0,J.Z)(P.$w),this.bufferOptions=(0,J.Z)(P.Rc),this.deleteStrategies=(0,J.Z)(P.rc)}ngOnChanges(){this.options=(0,J.Z)(this.taskOptions),this.setupModel(),this.changeDetector.markForCheck()}close(){this.setVisible(!1)}setVisible(e){this.visible=e,this.visibleChange.emit(e),this.changeDetector.markForCheck()}handleCancel(){this.cancel.emit(),this.close()}handleConfirm(){this.confirm.emit((0,Ai.e)(this.options,this.taskOptions)),this.close()}setupModel(){const e={};for(const o of Object.keys(this.options)){const c=this.globalSettings[o];Reflect.set(e,o,new Proxy(this.options[o],{get:(r,g)=>{var z;return null!==(z=Reflect.get(r,g))&&void 0!==z?z:Reflect.get(c,g)},set:(r,g,z)=>Reflect.set(r,g,z)}))}this.model=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-settings-dialog"]],viewQuery:function(e,o){if(1&e&&t.Gf(d.F,5),2&e){let s;t.iGM(s=t.CRH())&&(o.ngForm=s.first)}},inputs:{taskOptions:"taskOptions",globalSettings:"globalSettings",visible:"visible"},outputs:{visibleChange:"visibleChange",cancel:"cancel",confirm:"confirm",afterOpen:"afterOpen",afterClose:"afterClose"},features:[t.TTD],decls:2,vars:2,consts:[["nzTitle","\u4efb\u52a1\u8bbe\u7f6e","nzCentered","",3,"nzVisible","nzOkDisabled","nzOnOk","nzOnCancel","nzAfterOpen","nzAfterClose"],[4,"nzModalContent"],["nz-form","","ngForm",""],["ngModelGroup","output",1,"form-group","output"],[1,"setting-item","input"],["nzNoColon","","nzTooltipTitle","\u53d8\u91cf\u8bf4\u660e\u8bf7\u67e5\u770b\u5bf9\u5e94\u5168\u5c40\u8bbe\u7f6e",1,"setting-label"],[1,"setting-control","input",3,"nzErrorTip"],["type","text","required","","nz-input","","name","pathTemplate",3,"pattern","ngModel","disabled","ngModelChange"],["errorTip",""],["nz-checkbox","",3,"nzChecked","nzCheckedChange"],[1,"setting-item"],["nzNoColon","",1,"setting-label",3,"nzTooltipTitle"],[1,"setting-control","select"],["name","filesizeLimit",3,"ngModel","disabled","nzOptions","ngModelChange"],["name","durationLimit",3,"ngModel","disabled","nzOptions","ngModelChange"],["ngModelGroup","recorder",1,"form-group","recorder"],["nzNoColon","","nzTooltipTitle","\u6240\u9009\u753b\u8d28\u4e0d\u5b58\u5728\u5c06\u4ee5\u539f\u753b\u4ee3\u66ff",1,"setting-label"],["name","qualityNumber",3,"ngModel","disabled","nzOptions","ngModelChange"],["nzNoColon","","nzTooltipTitle","\u5f55\u64ad\u6587\u4ef6\u5b8c\u6210\u65f6\u4fdd\u5b58\u5f53\u524d\u76f4\u64ad\u95f4\u7684\u5c01\u9762",1,"setting-label"],[1,"setting-control","switch"],["name","saveCover",3,"ngModel","disabled","ngModelChange"],["nzNoColon","","nzTooltipTitle","\u8d85\u65f6\u65f6\u95f4\u8bbe\u7f6e\u5f97\u6bd4\u8f83\u957f\u76f8\u5bf9\u4e0d\u5bb9\u6613\u56e0\u7f51\u7edc\u4e0d\u7a33\u5b9a\u800c\u51fa\u73b0\u6d41\u4e2d\u65ad\uff0c\u4f46\u662f\u4e00\u65e6\u51fa\u73b0\u4e2d\u65ad\u5c31\u65e0\u6cd5\u5b9e\u73b0\u65e0\u7f1d\u62fc\u63a5\u4e14\u6f0f\u5f55\u8f83\u591a\u3002",1,"setting-label"],["nzWarningTip","\u65e0\u7f1d\u62fc\u63a5\u4f1a\u5931\u6548\uff01",1,"setting-control","select",3,"nzValidateStatus"],["name","readTimeout",3,"ngModel","disabled","nzOptions","ngModelChange"],["readTimeout","ngModel"],["nzNoColon","","nzTooltipTitle","\u65ad\u7f51\u8d85\u8fc7\u7b49\u5f85\u65f6\u95f4\u5c31\u7ed3\u675f\u5f55\u5236\uff0c\u5982\u679c\u7f51\u7edc\u6062\u590d\u540e\u4ecd\u672a\u4e0b\u64ad\u4f1a\u81ea\u52a8\u91cd\u65b0\u5f00\u59cb\u5f55\u5236\u3002",1,"setting-label"],["name","disconnectionTimeout",3,"ngModel","disabled","nzOptions","nzOptionOverflowSize","ngModelChange"],["nzNoColon","","nzTooltipTitle","\u786c\u76d8\u5199\u5165\u7f13\u51b2\u8bbe\u7f6e\u5f97\u6bd4\u8f83\u5927\u53ef\u4ee5\u51cf\u5c11\u5bf9\u786c\u76d8\u7684\u5199\u5165\uff0c\u4f46\u9700\u8981\u5360\u7528\u66f4\u591a\u7684\u5185\u5b58\u3002",1,"setting-label"],["name","bufferSize",3,"ngModel","disabled","nzOptions","nzOptionOverflowSize","ngModelChange"],["ngModelGroup","danmaku",1,"form-group","danmaku"],["nzFor","recordGiftSend","nzNoColon","","nzTooltipTitle","\u8bb0\u5f55\u793c\u7269\u4fe1\u606f\u5230\u5f39\u5e55\u6587\u4ef6\u91cc",1,"setting-label"],["id","recordGiftSend","name","recordGiftSend",3,"ngModel","disabled","ngModelChange"],["nzFor","recordFreeGifts","nzNoColon","","nzTooltipTitle","\u8bb0\u5f55\u514d\u8d39\u793c\u7269\u4fe1\u606f\u5230\u5f39\u5e55\u6587\u4ef6\u91cc",1,"setting-label"],["id","recordFreeGifts","name","recordFreeGifts",3,"ngModel","disabled","ngModelChange"],["nzFor","recordGuardBuy","nzNoColon","","nzTooltipTitle","\u8bb0\u5f55\u4e0a\u8230\u4fe1\u606f\u5230\u5f39\u5e55\u6587\u4ef6\u91cc",1,"setting-label"],["id","recordGuardBuy","name","recordGuardBuy",3,"ngModel","disabled","ngModelChange"],["nzFor","recordSuperChat","nzNoColon","","nzTooltipTitle","\u8bb0\u5f55 Super Chat \u4fe1\u606f\u5230\u5f39\u5e55\u6587\u4ef6\u91cc",1,"setting-label"],["id","recordSuperChat","name","recordSuperChat",3,"ngModel","disabled","ngModelChange"],["nzFor","danmuUname","nzNoColon","","nzTooltipTitle","\u53d1\u9001\u8005: \u5f39\u5e55\u5185\u5bb9",1,"setting-label"],["id","danmuUname","name","danmuUname",3,"ngModel","disabled","ngModelChange"],["nzFor","saveRawDanmaku","nzNoColon","","nzTooltipTitle","\u4fdd\u5b58\u539f\u59cb\u5f39\u5e55\u5230 JSON lines \u6587\u4ef6\uff0c\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u8c03\u8bd5\u3002",1,"setting-label"],["id","saveRawDanmaku","name","saveRawDanmaku",3,"ngModel","disabled","ngModelChange"],["ngModelGroup","postprocessing",1,"form-group","postprocessing"],["nzNoColon","","nzTooltipTitle","\u6dfb\u52a0\u5173\u952e\u5e27\u7b49\u5143\u6570\u636e\u4f7f\u5b9a\u4f4d\u64ad\u653e\u548c\u62d6\u8fdb\u5ea6\u6761\u4e0d\u4f1a\u5361\u987f",1,"setting-label"],["name","injectExtraMetadata",3,"ngModel","disabled","ngModelChange"],["nzNoColon","","nzTooltipTitle","\u8c03\u7528 ffmpeg \u8fdb\u884c\u8f6c\u6362\uff0c\u9700\u8981\u5b89\u88c5 ffmpeg \u3002",1,"setting-label"],["name","remuxToMp4",3,"ngModel","disabled","ngModelChange"],["deleteSourceTip",""],["name","deleteSource",3,"ngModel","disabled","nzOptions","ngModelChange"],["ngModelGroup","header",1,"form-group","header"],[1,"setting-item","textarea"],["nzFor","userAgent","nzNoColon","",1,"setting-label"],[1,"setting-control","textarea",3,"nzWarningTip","nzValidateStatus","nzErrorTip"],["nz-input","","required","","id","userAgent","name","userAgent",3,"rows","ngModel","disabled","ngModelChange"],["userAgent","ngModel"],["nzFor","cookie","nzNoColon","",1,"setting-label"],[1,"setting-control","textarea",3,"nzWarningTip","nzValidateStatus"],["nz-input","","id","cookie","name","cookie",3,"rows","ngModel","disabled","ngModelChange"],["cookie","ngModel"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"nz-modal",0),t.NdJ("nzOnOk",function(){return o.handleConfirm()})("nzOnCancel",function(){return o.handleCancel()})("nzAfterOpen",function(){return o.afterOpen.emit()})("nzAfterClose",function(){return o.afterClose.emit()}),t.YNc(1,Pi,159,79,"ng-container",1),t.qZA()),2&e&&t.Q6J("nzVisible",o.visible)("nzOkDisabled",null==o.ngForm||null==o.ngForm.form?null:o.ngForm.form.invalid)},directives:[V.du,V.Hf,d._Y,d.JL,d.F,E.Lr,d.Mq,w.SK,E.Nx,w.t3,E.iK,E.Fd,tt.Zp,d.Fj,d.Q7,d.c5,d.JJ,d.On,u.O5,Qt.Ie,bt.Vq,vt.i],styles:[".settings-page[_ngcontent-%COMP%]{max-width:680px;margin:0 auto}.setting-item[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;margin:0;padding:1em 2em;border-top:1px solid rgba(0,0,0,.06)}.setting-item[_ngcontent-%COMP%]:first-child{border-top:none}.settings-page-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.form-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-weight:700;font-size:1.2em;border-bottom:1px solid rgba(0,0,0,.1)}.setting-item[_ngcontent-%COMP%]{gap:.5em}.setting-item.actionable[_ngcontent-%COMP%]{cursor:pointer}.setting-item.actionable[_ngcontent-%COMP%]:hover{background-color:#2021241a}a.setting-item[_ngcontent-%COMP%]{outline:none;text-decoration:none;color:inherit;cursor:pointer}a.setting-item[_ngcontent-%COMP%]:hover{background-color:#2021241a}.setting-label[_ngcontent-%COMP%]{padding:0!important;max-width:-moz-fit-content!important;max-width:fit-content!important;text-align:left}.setting-label.align-required[_ngcontent-%COMP%]{position:relative;left:11px}.setting-control[_ngcontent-%COMP%], .setting-value[_ngcontent-%COMP%]{max-width:-moz-fit-content!important;max-width:fit-content!important;margin-left:auto!important}.setting-control.input[_ngcontent-%COMP%], .setting-value.input[_ngcontent-%COMP%]{max-width:100%!important}.setting-control.select[_ngcontent-%COMP%], .setting-value.select[_ngcontent-%COMP%]{max-width:8em!important;width:8em!important}.setting-control.switch[_ngcontent-%COMP%], .setting-value.switch[_ngcontent-%COMP%]{flex-direction:row-reverse;align-items:center}.setting-control.checkbox[_ngcontent-%COMP%], .setting-value.checkbox[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important;margin-left:0}.setting-control.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .setting-value.checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%}.setting-control.textarea[_ngcontent-%COMP%], .setting-value.textarea[_ngcontent-%COMP%]{max-width:100%!important;width:100%!important;margin-left:0}@media screen and (max-width: 332px){.setting-control.radio[_ngcontent-%COMP%], .setting-value.radio[_ngcontent-%COMP%]{margin-left:0!important}}@media screen and (max-width: 319px){.setting-control.select[_ngcontent-%COMP%], .setting-value.select[_ngcontent-%COMP%]{margin-left:0!important}}.setting-value[_ngcontent-%COMP%]{color:#5f6368;font-weight:400}nz-divider[_ngcontent-%COMP%]{margin:0!important}.form-group[_ngcontent-%COMP%]:last-child   .setting-item[_ngcontent-%COMP%]:last-child{padding-bottom:0}.setting-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);align-items:center;padding:1em 0;grid-gap:1em;gap:1em;border:none}.setting-item[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0!important}.setting-item[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{justify-self:start}.setting-item[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]{justify-self:center}.setting-item[_ngcontent-%COMP%]   label[nz-checkbox][_ngcontent-%COMP%]{justify-self:end}.setting-item[_ngcontent-%COMP%]   label[nz-checkbox][_ngcontent-%COMP%]  span:last-of-type{padding-right:0}.setting-item.input[_ngcontent-%COMP%], .setting-item.textarea[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.setting-item.input[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%], .setting-item.textarea[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{grid-row:1/2;grid-column:1/2;justify-self:center}.setting-item.input[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%], .setting-item.textarea[_ngcontent-%COMP%]   .setting-control[_ngcontent-%COMP%]{grid-row:2/3;grid-column:1/-1;justify-self:stretch}.setting-item.input[_ngcontent-%COMP%]   label[nz-checkbox][_ngcontent-%COMP%], .setting-item.textarea[_ngcontent-%COMP%]   label[nz-checkbox][_ngcontent-%COMP%]{grid-row:1/2;grid-column:2/3;justify-self:center}@media screen and (max-width: 450px){.setting-item[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.setting-item[_ngcontent-%COMP%]   .setting-label[_ngcontent-%COMP%]{grid-column:1/-1;justify-self:center}.setting-item[_ngcontent-%COMP%]   label[nz-checkbox][_ngcontent-%COMP%]{justify-self:end}}"],changeDetection:0}),n})();function re(n,i,e,o,s,a,c){try{var r=n[a](c),g=r.value}catch(z){return void e(z)}r.done?i(g):Promise.resolve(g).then(o,s)}var Pt=l(5254),Bi=l(3753),Ji=l(2313);const It=new Map,Et=new Map;let Qi=(()=>{class n{constructor(e){this.domSanitizer=e}transform(e,o="object"){return"object"===o?Et.has(e)?(0,N.of)(Et.get(e)):(0,Pt.D)(this.fetchImage(e)).pipe((0,j.U)(s=>URL.createObjectURL(s)),(0,j.U)(s=>this.domSanitizer.bypassSecurityTrustUrl(s)),(0,x.b)(s=>Et.set(e,s)),(0,rt.K)(()=>(0,N.of)(this.domSanitizer.bypassSecurityTrustUrl("")))):It.has(e)?(0,N.of)(It.get(e)):(0,Pt.D)(this.fetchImage(e)).pipe((0,Ct.w)(s=>this.createDataURL(s)),(0,x.b)(s=>It.set(e,s)),(0,rt.K)(()=>(0,N.of)(this.domSanitizer.bypassSecurityTrustUrl(""))))}fetchImage(e){return function Ei(n){return function(){var i=this,e=arguments;return new Promise(function(o,s){var a=n.apply(i,e);function c(g){re(a,o,s,c,r,"next",g)}function r(g){re(a,o,s,c,r,"throw",g)}c(void 0)})}}(function*(){return yield(yield fetch(e,{referrer:""})).blob()})()}createDataURL(e){const o=new FileReader,s=(0,Bi.R)(o,"load").pipe((0,j.U)(()=>this.domSanitizer.bypassSecurityTrustUrl(o.result)));return o.readAsDataURL(e),s}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ji.H7,16))},n.\u0275pipe=t.Yjl({name:"dataurl",type:n,pure:!0}),n})();const qi=function(n){return[n,"detail"]};function Ui(n,i){if(1&n&&(t.TgZ(0,"a",15),t.TgZ(1,"div",16),t._UZ(2,"img",17),t.ALo(3,"async"),t.ALo(4,"dataurl"),t.TgZ(5,"h2",18),t._uU(6),t.qZA(),t._UZ(7,"app-status-display",19),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.Q6J("routerLink",t.VKq(9,qi,e.data.room_info.room_id)),t.xp6(2),t.Q6J("src",t.lcZ(3,5,t.lcZ(4,7,e.data.room_info.cover)),t.LSH),t.xp6(3),t.Q6J("nzTooltipTitle","\u76f4\u64ad\u95f4\u6807\u9898\uff1a"+e.data.room_info.title),t.xp6(1),t.hij(" ",e.data.room_info.title," "),t.xp6(1),t.Q6J("status",e.data.task_status)}}function Ri(n,i){if(1&n&&(t._UZ(0,"nz-avatar",20),t.ALo(1,"async"),t.ALo(2,"dataurl")),2&n){const e=t.oxw();t.Q6J("nzShape","square")("nzSize",54)("nzSrc",t.lcZ(1,3,t.lcZ(2,5,e.data.user_info.face)))}}function Yi(n,i){1&n&&(t.TgZ(0,"nz-tag",29),t._UZ(1,"i",30),t.TgZ(2,"span"),t._uU(3,"\u672a\u5f00\u64ad"),t.qZA(),t.qZA())}function Li(n,i){1&n&&(t.TgZ(0,"nz-tag",31),t._UZ(1,"i",32),t.TgZ(2,"span"),t._uU(3,"\u76f4\u64ad\u4e2d"),t.qZA(),t.qZA())}function Gi(n,i){1&n&&(t.TgZ(0,"nz-tag",33),t._UZ(1,"i",34),t.TgZ(2,"span"),t._uU(3,"\u8f6e\u64ad\u4e2d"),t.qZA(),t.qZA())}function $i(n,i){if(1&n&&(t.TgZ(0,"p",21),t.TgZ(1,"span",22),t.TgZ(2,"a",23),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"span",24),t.ynx(5,25),t.YNc(6,Yi,4,0,"nz-tag",26),t.YNc(7,Li,4,0,"nz-tag",27),t.YNc(8,Gi,4,0,"nz-tag",28),t.BQk(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.MGl("href","https://space.bilibili.com/",e.data.user_info.uid,"",t.LSH),t.xp6(1),t.hij(" ",e.data.user_info.name," "),t.xp6(2),t.Q6J("ngSwitch",e.data.room_info.live_status),t.xp6(1),t.Q6J("ngSwitchCase",0),t.xp6(1),t.Q6J("ngSwitchCase",1),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function Vi(n,i){if(1&n&&(t.TgZ(0,"span",42),t.TgZ(1,"a",23),t._uU(2),t.qZA(),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.MGl("href","https://live.bilibili.com/",e.data.room_info.short_room_id,"",t.LSH),t.xp6(1),t.hij(" ",e.data.room_info.short_room_id,"")}}function ji(n,i){if(1&n&&(t.TgZ(0,"p",35),t.TgZ(1,"span",36),t.TgZ(2,"span",37),t._uU(3,"\u623f\u95f4\u53f7\uff1a"),t.qZA(),t.YNc(4,Vi,3,2,"span",38),t.TgZ(5,"span",39),t.TgZ(6,"a",23),t._uU(7),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"span",40),t.TgZ(9,"a",23),t.TgZ(10,"nz-tag",41),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.data.room_info.short_room_id),t.xp6(2),t.MGl("href","https://live.bilibili.com/",e.data.room_info.room_id,"",t.LSH),t.xp6(1),t.Oqu(e.data.room_info.room_id),t.xp6(2),t.hYB("href","https://live.bilibili.com/p/eden/area-tags?parentAreaId=",e.data.room_info.parent_area_id,"&areaId=",e.data.room_info.area_id,"",t.LSH),t.xp6(1),t.Q6J("nzColor","#23ade5"),t.xp6(1),t.hij(" ",e.data.room_info.area_name," ")}}function Hi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-switch",43),t.NdJ("click",function(){return t.CHM(e),t.oxw().toggleRecorder()}),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("nzDisabled",e.toggleRecorderForbidden)("ngModel",e.data.task_status.recorder_enabled)("nzControl",!0)("nzLoading",e.switchPending)}}function Wi(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().cutStream()}),t._UZ(1,"i",45),t.qZA()}if(2&n){const e=t.oxw();t.ekj("not-allowed",e.data.task_status.running_status!==e.RunningStatus.RECORDING)}}function Xi(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"app-task-settings-dialog",49),t.NdJ("visibleChange",function(s){return t.CHM(e),t.oxw(2).settingsDialogVisible=s})("confirm",function(s){return t.CHM(e),t.oxw(2).changeTaskOptions(s)})("afterClose",function(){return t.CHM(e),t.oxw(2).cleanSettingsData()}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("taskOptions",e.taskOptions)("globalSettings",e.globalSettings)("visible",e.settingsDialogVisible)}}function Ki(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().openSettingsDialog()}),t._UZ(1,"i",47),t.qZA(),t.YNc(2,Xi,2,3,"ng-container",48)}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.taskOptions&&e.globalSettings)}}function ts(n,i){if(1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",53),t.qZA()),2&n){t.oxw(2);const e=t.MAs(20);t.Q6J("nzDropdownMenu",e)}}function es(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"div",54),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).menuDrawerVisible=!0}),t._UZ(1,"i",53),t.qZA()}}function ns(n,i){if(1&n&&(t.YNc(0,ts,2,1,"div",50),t.YNc(1,es,2,0,"div",51)),2&n){const e=t.oxw();t.Q6J("ngIf",!e.useDrawer),t.xp6(1),t.Q6J("ngIf",e.useDrawer)}}function os(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"ul",55),t.TgZ(1,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().startTask()}),t._uU(2,"\u8fd0\u884c\u4efb\u52a1"),t.qZA(),t.TgZ(3,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().stopTask()}),t._uU(4,"\u505c\u6b62\u4efb\u52a1"),t.qZA(),t.TgZ(5,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().removeTask()}),t._uU(6,"\u5220\u9664\u4efb\u52a1"),t.qZA(),t.TgZ(7,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().stopTask(!0)}),t._uU(8,"\u5f3a\u5236\u505c\u6b62\u4efb\u52a1"),t.qZA(),t.TgZ(9,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().disableRecorder(!0)}),t._uU(10,"\u5f3a\u5236\u5173\u95ed\u5f55\u5236"),t.qZA(),t.TgZ(11,"li",56),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateTaskInfo()}),t._uU(12,"\u5237\u65b0\u6570\u636e"),t.qZA(),t.qZA()}}function is(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",59),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).menuDrawerVisible=!1}),t.GkF(2,12),t.qZA(),t.BQk()}if(2&n){t.oxw(2);const e=t.MAs(23);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}const ss=function(){return{padding:"0"}};function as(n,i){if(1&n){const e=t.EpF();t.TgZ(0,"nz-drawer",57),t.NdJ("nzVisibleChange",function(s){return t.CHM(e),t.oxw().menuDrawerVisible=s})("nzOnClose",function(){return t.CHM(e),t.oxw().menuDrawerVisible=!1}),t.YNc(1,is,3,1,"ng-container",58),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("nzClosable",!1)("nzBodyStyle",t.DdM(3,ss))("nzVisible",e.menuDrawerVisible)}}const rs=function(n,i,e,o){return[n,i,e,o]},ls=function(){return{padding:"0.5rem"}},cs=function(){return{size:"large"}};let us=(()=>{class n{constructor(e,o,s,a,c,r){this.changeDetector=o,this.message=s,this.modal=a,this.settingService=c,this.taskManager=r,this.stopped=!1,this.destroyed=new k.xQ,this.useDrawer=!1,this.menuDrawerVisible=!1,this.switchPending=!1,this.settingsDialogVisible=!1,this.RunningStatus=Z,e.observe(ct[0]).pipe((0,v.R)(this.destroyed)).subscribe(g=>{this.useDrawer=g.matches,o.markForCheck()})}get roomId(){return this.data.room_info.room_id}get toggleRecorderForbidden(){return!this.data.task_status.monitor_enabled}ngOnChanges(e){console.debug("[ngOnChanges]",this.roomId,e),this.stopped=this.data.task_status.running_status===Z.STOPPED}ngOnDestroy(){this.destroyed.next(),this.destroyed.complete()}updateTaskInfo(){this.taskManager.updateTaskInfo(this.roomId).subscribe()}toggleRecorder(){this.toggleRecorderForbidden||this.switchPending||(this.switchPending=!0,this.data.task_status.recorder_enabled?this.taskManager.disableRecorder(this.roomId).subscribe(()=>this.switchPending=!1):this.taskManager.enableRecorder(this.roomId).subscribe(()=>this.switchPending=!1))}removeTask(){this.taskManager.removeTask(this.roomId).subscribe()}startTask(){this.data.task_status.running_status===Z.STOPPED?this.taskManager.startTask(this.roomId).subscribe():this.message.warning("\u4efb\u52a1\u8fd0\u884c\u4e2d\uff0c\u5ffd\u7565\u64cd\u4f5c\u3002")}stopTask(e=!1){this.data.task_status.running_status!==Z.STOPPED?e&&this.data.task_status.running_status==Z.RECORDING?this.modal.confirm({nzTitle:"\u786e\u5b9a\u8981\u5f3a\u5236\u505c\u6b62\u4efb\u52a1\uff1f",nzContent:"\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\u4f1a\u88ab\u5f3a\u884c\u4e2d\u65ad\uff01\u786e\u5b9a\u8981\u653e\u5f03\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\uff1f",nzOnOk:()=>new Promise((o,s)=>{this.taskManager.stopTask(this.roomId,e).subscribe(o,s)})}):this.taskManager.stopTask(this.roomId).subscribe():this.message.warning("\u4efb\u52a1\u5904\u4e8e\u505c\u6b62\u72b6\u6001\uff0c\u5ffd\u7565\u64cd\u4f5c\u3002")}disableRecorder(e=!1){this.data.task_status.recorder_enabled?e&&this.data.task_status.running_status==Z.RECORDING?this.modal.confirm({nzTitle:"\u786e\u5b9a\u8981\u5f3a\u5236\u505c\u6b62\u5f55\u5236\uff1f",nzContent:"\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\u4f1a\u88ab\u5f3a\u884c\u4e2d\u65ad\uff01\u786e\u5b9a\u8981\u653e\u5f03\u6b63\u5728\u5f55\u5236\u7684\u6587\u4ef6\uff1f",nzOnOk:()=>new Promise((o,s)=>{this.taskManager.disableRecorder(this.roomId,e).subscribe(o,s)})}):this.taskManager.disableRecorder(this.roomId).subscribe():this.message.warning("\u5f55\u5236\u5904\u4e8e\u5173\u95ed\u72b6\u6001\uff0c\u5ffd\u7565\u64cd\u4f5c\u3002")}openSettingsDialog(){Kt(this.settingService.getTaskOptions(this.roomId),this.settingService.getSettings(["output","header","danmaku","recorder","postprocessing"])).subscribe(([e,o])=>{this.taskOptions=e,this.globalSettings=o,this.settingsDialogVisible=!0,this.changeDetector.markForCheck()},e=>{this.message.error(`\u83b7\u53d6\u4efb\u52a1\u8bbe\u7f6e\u51fa\u9519: ${e.message}`)})}cleanSettingsData(){delete this.taskOptions,delete this.globalSettings,this.changeDetector.markForCheck()}changeTaskOptions(e){this.settingService.changeTaskOptions(this.roomId,e).pipe((0,At.X)(3,300)).subscribe(o=>{this.message.success("\u4fee\u6539\u4efb\u52a1\u8bbe\u7f6e\u6210\u529f")},o=>{this.message.error(`\u4fee\u6539\u4efb\u52a1\u8bbe\u7f6e\u51fa\u9519: ${o.message}`)})}cutStream(){this.data.task_status.running_status===Z.RECORDING&&this.taskManager.cutStream(this.roomId).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q.Yg),t.Y36(t.sBO),t.Y36(wt.dD),t.Y36(V.Sf),t.Y36(ki.R),t.Y36(Ft))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-item"]],hostVars:2,hostBindings:function(e,o){2&e&&t.ekj("stopped",o.stopped)},inputs:{data:"data"},features:[t.TTD],decls:25,vars:19,consts:[[3,"nzCover","nzHoverable","nzActions","nzBodyStyle"],[3,"nzActive","nzLoading","nzAvatar"],[3,"nzAvatar","nzTitle","nzDescription"],["coverTemplate",""],["avatarTemplate",""],["titleTemplate",""],["descTemplate",""],["actionSwitch",""],["actionDelete",""],["actionSetting",""],["actionMore",""],["dropdownMenu","nzDropdownMenu"],[3,"ngTemplateOutlet"],["menu",""],["nzPlacement","bottom","nzHeight","auto",3,"nzClosable","nzBodyStyle","nzVisible","nzVisibleChange","nzOnClose",4,"ngIf"],[3,"routerLink"],[1,"cover-wrapper"],["alt","\u76f4\u64ad\u95f4\u5c01\u9762",1,"cover",3,"src"],["nz-tooltip","","nzTooltipPlacement","bottomLeft",1,"title",3,"nzTooltipTitle"],[3,"status"],[3,"nzShape","nzSize","nzSrc"],[1,"meta-title"],["nz-tooltip","","nzTooltipTitle","\u6253\u5f00\u4e3b\u64ad\u4e2a\u4eba\u7a7a\u95f4\u9875\u9762","nzTooltipPlacement","right",1,"user-name"],["target","_blank",3,"href"],[1,"live-status"],[3,"ngSwitch"],["nzColor","default",4,"ngSwitchCase"],["nzColor","red",4,"ngSwitchCase"],["nzColor","green",4,"ngSwitchCase"],["nzColor","default"],["nz-icon","","nzType","frown"],["nzColor","red"],["nz-icon","","nzType","fire"],["nzColor","green"],["nz-icon","","nzType","sync","nzSpin",""],[1,"meta-desc"],[1,"room-id-wrapper"],[1,"room-id-label"],["class","short-room-id","nz-tooltip","","nzTooltipTitle","\u6253\u5f00\u76f4\u64ad\u95f4\u9875\u9762","nzTooltipPlacement","bottom",4,"ngIf"],["nz-tooltip","","nzTooltipTitle","\u6253\u5f00\u76f4\u64ad\u95f4\u9875\u9762","nzTooltipPlacement","bottom",1,"real-room-id"],["nz-tooltip","","nzTooltipTitle","\u6253\u5f00\u76f4\u64ad\u5206\u533a\u9875\u9762","nzTooltipPlacement","leftTop",1,"area-name"],[3,"nzColor"],["nz-tooltip","","nzTooltipTitle","\u6253\u5f00\u76f4\u64ad\u95f4\u9875\u9762","nzTooltipPlacement","bottom",1,"short-room-id"],["nz-tooltip","","nzTooltipTitle","\u5f55\u5236\u5f00\u5173",3,"nzDisabled","ngModel","nzControl","nzLoading","click"],["nz-tooltip","","nzTooltipTitle","\u5207\u5272\u6587\u4ef6",3,"click"],["nz-icon","","nzType","scissor",1,"action-icon"],["nz-tooltip","","nzTooltipTitle","\u4efb\u52a1\u8bbe\u7f6e",3,"click"],["nz-icon","","nzType","setting",1,"action-icon"],[4,"ngIf"],[3,"taskOptions","globalSettings","visible","visibleChange","confirm","afterClose"],["nz-dropdown","","nzPlacement","topRight",3,"nzDropdownMenu",4,"ngIf"],[3,"click",4,"ngIf"],["nz-dropdown","","nzPlacement","topRight",3,"nzDropdownMenu"],["nz-icon","","nzType","more",1,"action-icon"],[3,"click"],["nz-menu","",1,"menu"],["nz-menu-item","",3,"click"],["nzPlacement","bottom","nzHeight","auto",3,"nzClosable","nzBodyStyle","nzVisible","nzVisibleChange","nzOnClose"],[4,"nzDrawerContent"],[1,"drawer-content",3,"click"]],template:function(e,o){if(1&e&&(t.TgZ(0,"nz-card",0),t.TgZ(1,"nz-skeleton",1),t._UZ(2,"nz-card-meta",2),t.qZA(),t.qZA(),t.YNc(3,Ui,8,11,"ng-template",null,3,t.W1O),t.YNc(5,Ri,3,7,"ng-template",null,4,t.W1O),t.YNc(7,$i,9,6,"ng-template",null,5,t.W1O),t.YNc(9,ji,12,7,"ng-template",null,6,t.W1O),t.YNc(11,Hi,1,4,"ng-template",null,7,t.W1O),t.YNc(13,Wi,2,2,"ng-template",null,8,t.W1O),t.YNc(15,Ki,3,1,"ng-template",null,9,t.W1O),t.YNc(17,ns,2,2,"ng-template",null,10,t.W1O),t.TgZ(19,"nz-dropdown-menu",null,11),t.GkF(21,12),t.YNc(22,os,13,0,"ng-template",null,13,t.W1O),t.qZA(),t.YNc(24,as,2,4,"nz-drawer",14)),2&e){const s=t.MAs(4),a=t.MAs(6),c=t.MAs(8),r=t.MAs(10),g=t.MAs(12),z=t.MAs(14),A=t.MAs(16),O=t.MAs(18),I=t.MAs(23);t.Q6J("nzCover",s)("nzHoverable",!0)("nzActions",t.l5B(12,rs,z,A,g,O))("nzBodyStyle",t.DdM(17,ls)),t.xp6(1),t.Q6J("nzActive",!0)("nzLoading",!o.data)("nzAvatar",t.DdM(18,cs)),t.xp6(1),t.Q6J("nzAvatar",a)("nzTitle",c)("nzDescription",r),t.xp6(19),t.Q6J("ngTemplateOutlet",I),t.xp6(3),t.Q6J("ngIf",o.useDrawer)}},directives:[D.bd,ge,D.l7,at.yS,it.SY,Mi,ot.Dz,u.RF,u.n9,nt,S.Ls,Nt.w,u.O5,vt.i,d.JJ,d.On,Ii,K.cm,K.RR,u.tP,ut.wO,ut.r9,st.Vz,st.SQ],pipes:[u.Ov,Qi],styles:['.cover-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;text-shadow:1px 1px 2px black;margin:0;padding:0 .5rem;background:rgba(0,0,0,.32)}.drawer-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]{box-shadow:none;padding:.5em 0}.drawer-content[_ngcontent-%COMP%]   .menu[_ngcontent-%COMP%]   *[nz-menu-item][_ngcontent-%COMP%]{margin:0;padding:.5em 2em}.stopped[_nghost-%COMP%]{filter:grayscale(100%)}a[_ngcontent-%COMP%]{color:inherit}a[_ngcontent-%COMP%]:hover{color:#1890ff}a[_ngcontent-%COMP%]:focus-visible{outline:-webkit-focus-ring-color auto 1px}.cover-wrapper[_ngcontent-%COMP%]{--cover-ratio: 264 / 470;--cover-height: calc(var(--card-width) * var(--cover-ratio));position:relative;width:var(--card-width);height:var(--cover-height)}.cover-wrapper[_ngcontent-%COMP%]   .cover[_ngcontent-%COMP%]{width:100%;max-height:var(--cover-height);object-fit:cover}.cover-wrapper[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{position:absolute;top:.5rem;left:.5rem;font-size:1.2rem;width:-moz-fit-content;width:fit-content;max-width:calc(100% - 1em);overflow:hidden;white-space:nowrap;text-overflow:ellipsis}nz-card-meta[_ngcontent-%COMP%]{margin:0}.meta-title[_ngcontent-%COMP%]{margin:0;display:flex;column-gap:1em}.meta-title[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{color:#fb7299;font-size:1rem;font-weight:700;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.meta-title[_ngcontent-%COMP%]   .live-status[_ngcontent-%COMP%]   nz-tag[_ngcontent-%COMP%]{margin:0;position:relative;bottom:1px}.meta-desc[_ngcontent-%COMP%]{margin:0;display:flex}.meta-desc[_ngcontent-%COMP%]   .room-id-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.meta-desc[_ngcontent-%COMP%]   .room-id-wrapper[_ngcontent-%COMP%]   .short-room-id[_ngcontent-%COMP%]:after{display:inline-block;width:1em;content:","}@media screen and (max-width: 320px){.meta-desc[_ngcontent-%COMP%]   .room-id-wrapper[_ngcontent-%COMP%]   .room-id-label[_ngcontent-%COMP%]{display:none}}.meta-desc[_ngcontent-%COMP%]   .area-name[_ngcontent-%COMP%]{margin-left:auto}.meta-desc[_ngcontent-%COMP%]   .area-name[_ngcontent-%COMP%]   nz-tag[_ngcontent-%COMP%]{margin:0;border-radius:30px;padding:0 1em}.action-icon[_ngcontent-%COMP%]{font-size:16px}.not-allowed[_ngcontent-%COMP%]{cursor:not-allowed}'],changeDetection:0}),n})();function ps(n,i){1&n&&(t.TgZ(0,"div",2),t._UZ(1,"nz-empty"),t.qZA())}function gs(n,i){1&n&&t._UZ(0,"app-task-item",6),2&n&&t.Q6J("data",i.$implicit)}function ds(n,i){if(1&n&&(t.TgZ(0,"div",3,4),t.YNc(2,gs,1,1,"app-task-item",5),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.dataList)("ngForTrackBy",e.trackByRoomId)}}let ms=(()=>{class n{constructor(){this.dataList=[]}trackByRoomId(e,o){return o.room_info.room_id}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-task-list"]],inputs:{dataList:"dataList"},decls:3,vars:2,consts:[["class","empty-container",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"empty-container"],[1,"tasks-container"],["tasks",""],[3,"data",4,"ngFor","ngForOf","ngForTrackBy"],[3,"data"]],template:function(e,o){if(1&e&&(t.YNc(0,ps,2,0,"div",0),t.YNc(1,ds,3,2,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",0===o.dataList.length)("ngIfElse",s)}},directives:[u.O5,Ut.p9,u.sg,us],styles:["[_nghost-%COMP%]{height:100%;width:100%;position:relative;display:block;margin:0;padding:1rem;background:#f1f1f1;overflow:auto}[_nghost-%COMP%]{--card-width: 400px;--grid-gutter: 12px;--max-columns: 3;padding:var(--grid-gutter)}@media screen and (max-width: 400px){[_nghost-%COMP%]{--card-width: 100%;padding:var(--grid-gutter) 0}}.tasks-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,var(--card-width));grid-gap:var(--grid-gutter);gap:var(--grid-gutter);justify-content:center;max-width:min(100%,var(--card-width) * var(--max-columns) + var(--grid-gutter) * (var(--max-columns) - 1));margin:0 auto}.empty-container[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;align-items:center;justify-content:center}"],changeDetection:0}),n})();var _s=l(2643),fs=l(1406);function hs(n,i){1&n&&(t.ynx(0),t._uU(1," \u8bf7\u8f93\u5165\u76f4\u64ad\u95f4\u53f7\u6216 URL "),t.BQk())}function zs(n,i){1&n&&(t.ynx(0),t._uU(1," \u8f93\u5165\u6709\u9519\u8bef "),t.BQk())}function Cs(n,i){if(1&n&&(t.YNc(0,hs,2,0,"ng-container",8),t.YNc(1,zs,2,0,"ng-container",8)),2&n){const e=i.$implicit;t.Q6J("ngIf",e.hasError("required")),t.xp6(1),t.Q6J("ngIf",e.hasError("pattern"))}}function Ts(n,i){if(1&n&&(t.ynx(0),t._UZ(1,"nz-alert",9),t.BQk()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("nzType",e.type)("nzMessage",e.message)}}function xs(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"form",2),t.TgZ(2,"nz-form-item"),t.TgZ(3,"nz-form-control",3),t._UZ(4,"input",4),t.YNc(5,Cs,2,2,"ng-template",null,5,t.W1O),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",6),t.YNc(8,Ts,2,2,"ng-container",7),t.qZA(),t.BQk()),2&n){const e=t.MAs(6),o=t.oxw();t.xp6(1),t.Q6J("formGroup",o.formGroup),t.xp6(2),t.Q6J("nzErrorTip",e),t.xp6(1),t.Q6J("pattern",o.pattern),t.xp6(4),t.Q6J("ngForOf",o.resultMessages)}}const ks=/^https?:\/\/live\.bilibili\.com\/(\d+).*$/,vs=/^\s*(?:\d+(?:[ ]+\d+)*|https?:\/\/live\.bilibili\.com\/\d+.*)\s*$/;let bs=(()=>{class n{constructor(e,o,s){this.changeDetector=o,this.taskManager=s,this.visible=!1,this.visibleChange=new t.vpe,this.pending=!1,this.resultMessages=[],this.pattern=vs,this.formGroup=e.group({input:["",[d.kI.required,d.kI.pattern(this.pattern)]]})}get inputControl(){return this.formGroup.get("input")}open(){this.setVisible(!0)}close(){this.resultMessages=[],this.reset(),this.setVisible(!1)}setVisible(e){this.visible=e,this.visibleChange.emit(e),this.changeDetector.markForCheck()}reset(){this.pending=!1,this.formGroup.reset(),this.changeDetector.markForCheck()}handleCancel(){this.close()}handleConfirm(){this.pending=!0;const e=this.inputControl.value.trim();let o;o=e.startsWith("http")?[parseInt(ks.exec(e)[1])]:new Set(e.split(/\s+/).map(s=>parseInt(s))),(0,Pt.D)(o).pipe((0,fs.b)(s=>this.taskManager.addTask(s)),(0,x.b)(s=>{this.resultMessages.push(s),this.changeDetector.markForCheck()})).subscribe({complete:()=>{this.resultMessages.every(s=>"success"===s.type)?this.close():this.reset()}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(d.qu),t.Y36(t.sBO),t.Y36(Ft))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-task-dialog"]],inputs:{visible:"visible"},outputs:{visibleChange:"visibleChange"},decls:2,vars:6,consts:[["nzTitle","\u6dfb\u52a0\u4efb\u52a1","nzCentered","","nzOkText","\u6dfb\u52a0",3,"nzVisible","nzOkLoading","nzOkDisabled","nzCancelDisabled","nzClosable","nzMaskClosable","nzOnOk","nzOnCancel"],[4,"nzModalContent"],["nz-form","",3,"formGroup"],["nzHasFeedback","",3,"nzErrorTip"],["nz-input","","required","","placeholder","\u76f4\u64ad\u95f4 URL \u6216\u623f\u95f4\u53f7\uff08\u652f\u6301\u591a\u4e2a\u623f\u95f4\u53f7\u7528\u7a7a\u683c\u9694\u5f00\uff09","formControlName","input",3,"pattern"],["errorTip",""],[1,"result-messages-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],["nzShowIcon","",3,"nzType","nzMessage"]],template:function(e,o){1&e&&(t.TgZ(0,"nz-modal",0),t.NdJ("nzOnOk",function(){return o.handleConfirm()})("nzOnCancel",function(){return o.handleCancel()}),t.YNc(1,xs,9,4,"ng-container",1),t.qZA()),2&e&&t.Q6J("nzVisible",o.visible)("nzOkLoading",o.pending)("nzOkDisabled",o.formGroup.invalid)("nzCancelDisabled",o.pending)("nzClosable",!o.pending)("nzMaskClosable",!o.pending)},directives:[V.du,V.Hf,d._Y,d.JL,E.Lr,d.sg,w.SK,E.Nx,w.t3,E.Fd,tt.Zp,d.Fj,d.Q7,d.JJ,d.u,d.c5,u.O5,u.sg,Be],styles:[".result-messages-container[_ngcontent-%COMP%]{width:100%;max-height:200px;overflow-y:auto}"],changeDetection:0}),n})(),Ss=(()=>{class n{transform(e,o=""){return console.debug("filter tasks by '%s'",o),[...this.filterByTerm(e,o)]}filterByTerm(e,o){return function*ys(n,i){for(const e of n)i(e)&&(yield e)}(e,s=>""===(o=o.trim())||s.user_info.name.includes(o)||s.room_info.title.toString().includes(o)||s.room_info.area_name.toString().includes(o)||s.room_info.room_id.toString().includes(o)||s.room_info.short_room_id.toString().includes(o))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"filterTasks",type:n,pure:!0}),n})();function Ms(n,i){if(1&n&&t._UZ(0,"nz-spin",6),2&n){const e=t.oxw();t.Q6J("nzSize","large")("nzSpinning",e.loading)}}function As(n,i){if(1&n&&(t._UZ(0,"app-task-list",7),t.ALo(1,"filterTasks")),2&n){const e=t.oxw();t.Q6J("dataList",t.xi3(1,1,e.dataList,e.filterTerm))}}const le="app-tasks-selection",ce="app-tasks-reverse",Ds=[{path:":id/detail",component:Ko},{path:"",component:(()=>{class n{constructor(e,o,s,a){this.changeDetector=e,this.notification=o,this.storage=s,this.taskService=a,this.loading=!0,this.dataList=[],this.filterTerm="",this.selection=this.retrieveSelection(),this.reverse=this.retrieveReverse()}ngOnInit(){this.syncTaskData()}ngOnDestroy(){this.desyncTaskData()}onSelectionChanged(e){this.selection=e,this.storeSelection(e),this.desyncTaskData(),this.syncTaskData()}onReverseChanged(e){this.reverse=e,this.storeReverse(e),e&&(this.dataList=[...this.dataList.reverse()],this.changeDetector.markForCheck())}retrieveSelection(){const e=this.storage.getData(le);return null!==e?e:M.ALL}retrieveReverse(){return"true"===this.storage.getData(ce)}storeSelection(e){this.storage.setData(le,e)}storeReverse(e){this.storage.setData(ce,e.toString())}syncTaskData(){this.dataSubscription=(0,N.of)((0,N.of)(0),Xt(1e3)).pipe((0,te.u)(),(0,Ct.w)(()=>this.taskService.getAllTaskData(this.selection)),(0,rt.K)(e=>{throw this.notification.error("\u83b7\u53d6\u4efb\u52a1\u6570\u636e\u51fa\u9519",e.message),e}),(0,At.X)(10,3e3)).subscribe(e=>{this.loading=!1,this.dataList=this.reverse?e.reverse():e,this.changeDetector.markForCheck()},e=>{this.notification.error("\u83b7\u53d6\u4efb\u52a1\u6570\u636e\u51fa\u9519","\u7f51\u7edc\u8fde\u63a5\u5f02\u5e38, \u8bf7\u5f85\u7f51\u7edc\u6b63\u5e38\u540e\u5237\u65b0\u3002",{nzDuration:0})})}desyncTaskData(){var e;null===(e=this.dataSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(ee.zb),t.Y36(ti.V),t.Y36(Dt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-tasks"]],decls:8,vars:4,consts:[[3,"selection","reverse","selectionChange","reverseChange","filterChange"],["class","spinner",3,"nzSize","nzSpinning",4,"ngIf","ngIfElse"],["elseBlock",""],["nz-button","","nzType","primary","nzSize","large","nzShape","circle","nz-tooltip","","nzTooltipTitle","\u6dfb\u52a0\u4efb\u52a1",1,"add-task-button",3,"click"],["nz-icon","","nzType","plus"],["addTaskDialog",""],[1,"spinner",3,"nzSize","nzSpinning"],[3,"dataList"]],template:function(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"app-toolbar",0),t.NdJ("selectionChange",function(c){return o.onSelectionChanged(c)})("reverseChange",function(c){return o.onReverseChanged(c)})("filterChange",function(c){return o.filterTerm=c}),t.qZA(),t.YNc(1,Ms,1,2,"nz-spin",1),t.YNc(2,As,2,4,"ng-template",null,2,t.W1O),t.TgZ(4,"button",3),t.NdJ("click",function(){return t.CHM(s),t.MAs(7).open()}),t._UZ(5,"i",4),t.qZA(),t._UZ(6,"app-add-task-dialog",null,5)}if(2&e){const s=t.MAs(3);t.Q6J("selection",o.selection)("reverse",o.reverse),t.xp6(1),t.Q6J("ngIf",o.loading)("ngIfElse",s)}},directives:[xi,u.O5,Rt.W,ms,ht.ix,_s.dQ,Nt.w,it.SY,S.Ls,bs],pipes:[Ss],styles:["[_nghost-%COMP%]{height:100%;width:100%;position:relative;display:block;margin:0;padding:1rem;background:#f1f1f1;overflow:auto}.spinner[_ngcontent-%COMP%]{height:100%;width:100%}[_nghost-%COMP%]{display:flex;flex-direction:column;padding:0;overflow:hidden}.add-task-button[_ngcontent-%COMP%]{position:fixed;bottom:5vh;right:5vw}"],changeDetection:0}),n})()}];let Zs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[at.Bz.forChild(Ds)],at.Bz]}),n})(),Os=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,d.u5,d.UX,q.xu,pt,w.Jb,D.vh,Jt,ot.Rt,S.PV,Jt,it.cg,G,vt.m,K.b1,ht.sL,V.Qp,E.U5,tt.o7,Qt.Wr,ye,zt.aF,qt.S,Ut.Xo,Rt.j,Je,st.BL,bt.LV,dn,B.HQ,Mn,co,Zs,uo.m]]}),n})()},855:function(Bt){Bt.exports=function(){"use strict";var et=/^(b|B)$/,l={iec:{bits:["b","Kib","Mib","Gib","Tib","Pib","Eib","Zib","Yib"],bytes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},jedec:{bits:["b","Kb","Mb","Gb","Tb","Pb","Eb","Zb","Yb"],bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]}},u={iec:["","kibi","mebi","gibi","tebi","pebi","exbi","zebi","yobi"],jedec:["","kilo","mega","giga","tera","peta","exa","zetta","yotta"]},d={floor:Math.floor,ceil:Math.ceil};function q(t){var m,U,R,H,pt,w,D,S,_,k,v,Y,C,b,L,W,nt,G,ot,xt,$,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=[],X=0;if(isNaN(t))throw new TypeError("Invalid number");if(R=!0===f.bits,L=!0===f.unix,Y=!0===f.pad,C=void 0!==f.round?f.round:L?1:2,D=void 0!==f.locale?f.locale:"",S=f.localeOptions||{},W=void 0!==f.separator?f.separator:"",nt=void 0!==f.spacer?f.spacer:L?"":" ",ot=f.symbols||{},G=2===(U=f.base||2)&&f.standard||"jedec",v=f.output||"string",pt=!0===f.fullform,w=f.fullforms instanceof Array?f.fullforms:[],m=void 0!==f.exponent?f.exponent:-1,xt=d[f.roundingMethod]||Math.round,_=(k=Number(t))<0,H=U>2?1e3:1024,$=!1===isNaN(f.precision)?parseInt(f.precision,10):0,_&&(k=-k),(-1===m||isNaN(m))&&(m=Math.floor(Math.log(k)/Math.log(H)))<0&&(m=0),m>8&&($>0&&($+=8-m),m=8),"exponent"===v)return m;if(0===k)p[0]=0,b=p[1]=L?"":l[G][R?"bits":"bytes"][m];else{X=k/(2===U?Math.pow(2,10*m):Math.pow(1e3,m)),R&&(X*=8)>=H&&m<8&&(X/=H,m++);var gt=Math.pow(10,m>0?C:0);p[0]=xt(X*gt)/gt,p[0]===H&&m<8&&void 0===f.exponent&&(p[0]=1,m++),b=p[1]=10===U&&1===m?R?"kb":"kB":l[G][R?"bits":"bytes"][m],L&&(p[1]="jedec"===G?p[1].charAt(0):m>0?p[1].replace(/B$/,""):p[1],et.test(p[1])&&(p[0]=Math.floor(p[0]),p[1]=""))}if(_&&(p[0]=-p[0]),$>0&&(p[0]=p[0].toPrecision($)),p[1]=ot[p[1]]||p[1],!0===D?p[0]=p[0].toLocaleString():D.length>0?p[0]=p[0].toLocaleString(D,S):W.length>0&&(p[0]=p[0].toString().replace(".",W)),Y&&!1===Number.isInteger(p[0])&&C>0){var dt=W||".",mt=p[0].toString().split(dt),_t=mt[1]||"",ft=_t.length,kt=C-ft;p[0]="".concat(mt[0]).concat(dt).concat(_t.padEnd(ft+kt,"0"))}return pt&&(p[1]=w[m]?w[m]:u[G][m]+(R?"bit":"byte")+(1===p[0]?"":"s")),"array"===v?p:"object"===v?{value:p[0],symbol:p[1],exponent:m,unit:b}:p.join(nt)}return q.partial=function(t){return function(m){return q(m,t)}},q}()}}]);